!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,r){"use strict";function n(e,t,r){if(r=r||{},!C(r))throw new Error("options is invalid");var n=r.bbox,i=r.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");n&&S(n),i&&P(i);var o={type:"Feature"};return i&&(o.id=i),n&&(o.bbox=n),o.properties=t||{},o.geometry=e,o}function i(e,t,r){if(r=r||{},!C(r))throw new Error("options is invalid");var n=r.bbox;if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");n&&S(n);var i;switch(e){case"Point":i=o(t).geometry;break;case"LineString":i=c(t).geometry;break;case"Polygon":i=s(t).geometry;break;case"MultiPoint":i=d(t).geometry;break;case"MultiLineString":i=f(t).geometry;break;case"MultiPolygon":i=g(t).geometry;break;default:throw new Error(e+" is invalid")}return n&&(i.bbox=n),i}function o(e,t,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(e[0])||!A(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function a(e,t,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return h(e.map(function(e){return o(e,t)}),r)}function s(e,t,r){if(!e)throw new Error("coordinates is required");for(var i=0;i<e.length;i++){var o=e[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===i&&0===a&&!A(o[0][0])||!A(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:e},t,r)}function u(e,t,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return h(e.map(function(e){return s(e,t)}),r)}function c(e,t,r){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!A(e[0][1])||!A(e[0][1]))throw new Error("coordinates must contain numbers");return n({type:"LineString",coordinates:e},t,r)}function l(e,t,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return h(e.map(function(e){return c(e,t)}),r)}function h(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var r=t.bbox,n=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");r&&S(r),n&&P(n);var i={type:"FeatureCollection"};return n&&(i.id=n),r&&(i.bbox=r),i.features=e,i}function f(e,t,r){if(!e)throw new Error("coordinates is required");return n({type:"MultiLineString",coordinates:e},t,r)}function d(e,t,r){if(!e)throw new Error("coordinates is required");return n({type:"MultiPoint",coordinates:e},t,r)}function g(e,t,r){if(!e)throw new Error("coordinates is required");return n({type:"MultiPolygon",coordinates:e},t,r)}function p(e,t,r){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:e},t,r)}function m(e,t){if(void 0===e||null===e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function y(e,t){if(void 0===e||null===e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var r=q[t||"kilometers"];if(!r)throw new Error(t+" units is invalid");return e*r}function v(e,t){if(void 0===e||null===e)throw new Error("distance is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var r=q[t||"kilometers"];if(!r)throw new Error(t+" units is invalid");return e/r}function w(e,t){return b(v(e,t))}function _(e){if(null===e||void 0===e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function b(e){if(null===e||void 0===e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function E(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function L(e,t,r){if(null===e||void 0===e)throw new Error("length is required");if(!(e>=0))throw new Error("length must be a positive number");return y(v(e,t),r||"kilometers")}function M(e,t,r){if(null===e||void 0===e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var n=j[t||"meters"];if(!n)throw new Error("invalid original units");var i=j[r||"kilometers"];if(!i)throw new Error("invalid final units");return e/n*i}function A(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function S(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!A(e))throw new Error("bbox must only contain numbers")})}function P(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function x(){throw new Error("method has been renamed to `radiansToDegrees`")}function O(){throw new Error("method has been renamed to `degreesToRadians`")}function N(){throw new Error("method has been renamed to `lengthToDegrees`")}function k(){throw new Error("method has been renamed to `lengthToRadians`")}function T(){throw new Error("method has been renamed to `radiansToLength`")}function G(){throw new Error("method has been renamed to `bearingToAzimuth`")}function D(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"earthRadius",function(){return F}),r.d(t,"factors",function(){return q}),r.d(t,"unitsFactors",function(){return I}),r.d(t,"areaFactors",function(){return j}),r.d(t,"feature",function(){return n}),r.d(t,"geometry",function(){return i}),r.d(t,"point",function(){return o}),r.d(t,"points",function(){return a}),r.d(t,"polygon",function(){return s}),r.d(t,"polygons",function(){return u}),r.d(t,"lineString",function(){return c}),r.d(t,"lineStrings",function(){return l}),r.d(t,"featureCollection",function(){return h}),r.d(t,"multiLineString",function(){return f}),r.d(t,"multiPoint",function(){return d}),r.d(t,"multiPolygon",function(){return g}),r.d(t,"geometryCollection",function(){return p}),r.d(t,"round",function(){return m}),r.d(t,"radiansToLength",function(){return y}),r.d(t,"lengthToRadians",function(){return v}),r.d(t,"lengthToDegrees",function(){return w}),r.d(t,"bearingToAzimuth",function(){return _}),r.d(t,"radiansToDegrees",function(){return b}),r.d(t,"degreesToRadians",function(){return E}),r.d(t,"convertLength",function(){return L}),r.d(t,"convertArea",function(){return M}),r.d(t,"isNumber",function(){return A}),r.d(t,"isObject",function(){return C}),r.d(t,"validateBBox",function(){return S}),r.d(t,"validateId",function(){return P}),r.d(t,"radians2degrees",function(){return x}),r.d(t,"degrees2radians",function(){return O}),r.d(t,"distanceToDegrees",function(){return N}),r.d(t,"distanceToRadians",function(){return k}),r.d(t,"radiansToDistance",function(){return T}),r.d(t,"bearingToAngle",function(){return G}),r.d(t,"convertDistance",function(){return D});var F=6371008.8,q={meters:F,metres:F,millimeters:1e3*F,millimetres:1e3*F,centimeters:100*F,centimetres:100*F,kilometers:F/1e3,kilometres:F/1e3,miles:F/1609.344,nauticalmiles:F/1852,inches:39.37*F,yards:F/1.0936,feet:3.28084*F,radians:1,degrees:F/111325},I={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/F,degrees:1/111325},j={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006}},function(e,t){function r(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")}function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return i(t),t;throw new Error("No valid coordinates")}function i(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return i(e[0]);throw new Error("coordinates must only contain numbers")}function o(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function a(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function s(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0;n<e.features.length;n++){var i=e.features[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}function u(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function c(e){if(!e)throw new Error("geojson is required");var t=u(e);if(t)return t.type}e.exports={geojsonType:o,collectionOf:s,featureOf:a,getCoord:r,getCoords:n,containsNumber:i,getGeom:u,getGeomType:c}},function(e,t){function r(e,t,r,n){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var i={type:"Feature"};return n&&(i.id=n),r&&(i.bbox=r),i.properties=t||{},i.geometry=e,i}function n(e,t,r){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");var n;switch(e){case"Point":n=i(t).geometry;break;case"LineString":n=a(t).geometry;break;case"Polygon":n=o(t).geometry;break;case"MultiPoint":n=c(t).geometry;break;case"MultiLineString":n=u(t).geometry;break;case"MultiPolygon":n=l(t).geometry;break;default:throw new Error(e+" is invalid")}return r&&(n.bbox=r),n}function i(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!b(e[0])||!b(e[1]))throw new Error("Coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n,i)}function o(e,t,n,i){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++){var a=e[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===o&&0===s&&!b(a[0][0])||!b(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return r({type:"Polygon",coordinates:e},t,n,i)}function a(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!b(e[0][1])||!b(e[0][1]))throw new Error("Coordinates must contain numbers");return r({type:"LineString",coordinates:e},t,n,i)}function s(e,t,r){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"FeatureCollection"};return r&&(n.id=r),t&&(n.bbox=t),n.features=e,n}function u(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiLineString",coordinates:e},t,n,i)}function c(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPoint",coordinates:e},t,n,i)}function l(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPolygon",coordinates:e},t,n,i)}function h(e,t,n,i){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return r({type:"GeometryCollection",geometries:e},t,n,i)}function f(e,t){if(void 0===e||null===e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function d(e,t){if(void 0===e||null===e)throw new Error("radians is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e*r}function g(e,t){if(void 0===e||null===e)throw new Error("distance is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e/r}function p(e,t){return y(g(e,t))}function m(e){if(null===e||void 0===e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function y(e){if(null===e||void 0===e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function v(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function w(e,t,r){if(null===e||void 0===e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return d(g(e,t),r||"kilometers")}function _(e,t,r){if(null===e||void 0===e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var n=L[t||"meters"];if(!n)throw new Error("invalid original units");var i=L[r||"kilometers"];if(!i)throw new Error("invalid final units");return e/n*i}function b(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}var E={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},L={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};e.exports={feature:r,geometry:n,featureCollection:s,geometryCollection:h,point:i,multiPoint:c,lineString:a,multiLineString:u,polygon:o,multiPolygon:l,radiansToDistance:d,distanceToRadians:g,distanceToDegrees:p,radians2degrees:y,degrees2radians:v,bearingToAngle:m,convertDistance:w,convertArea:_,round:f,isNumber:b}},function(e,t){e.exports=L},function(e,t,r){"use strict";function n(e,t,r){if(null!==e){var i,o,a,s,u,c,l,h,f,d,g=0,p=0,m=e.type,y="FeatureCollection"===m,v="Feature"===m,w=y?e.features.length:1;for(i=0;i<w;i++)for(f=y?e.features[i].geometry:v?e.geometry:e,d=!!f&&"GeometryCollection"===f.type,l=d?f.geometries.length:1,o=0;o<l;o++){var _=0;if(null!==(c=d?f.geometries[o]:f)){h=c.coordinates;var b=c.type;switch(g=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":t(h,p,i,_),p++,_++;break;case"LineString":case"MultiPoint":for(a=0;a<h.length;a++)t(h[a],p,i,_),p++,"MultiPoint"===b&&_++;"LineString"===b&&_++;break;case"Polygon":case"MultiLineString":for(a=0;a<h.length;a++){for(s=0;s<h[a].length-g;s++)t(h[a][s],p,i,_),p++;"MultiLineString"===b&&_++}"Polygon"===b&&_++;break;case"MultiPolygon":for(a=0;a<h.length;a++){for(s=0;s<h[a].length;s++)for(u=0;u<h[a][s].length-g;u++)t(h[a][s][u],p,i,_),p++;_++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)n(c.geometries[a],t,r);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,i){var o=r;return n(e,function(e,n,i,a){o=0===n&&void 0===r?e:t(o,e,n,i,a)},i),o}function o(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length;r++)t(e.features[r].properties,r);break;case"Feature":t(e.properties,0)}}function a(e,t,r){var n=r;return o(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)t(e.features[r],r)}function u(e,t,r){var n=r;return s(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function c(e){var t=[];return n(e,function(e){t.push(e)}),t}function l(e,t){var r,n,i,o,a,s,u,c,l=0,h="FeatureCollection"===e.type,f="Feature"===e.type,d=h?e.features.length:1;for(r=0;r<d;r++){for(s=h?e.features[r].geometry:f?e.geometry:e,c=h?e.features[r].properties:f?e.properties:{},u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(o,l,c);break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)t(o.geometries[n],l,c);break;default:throw new Error("Unknown Geometry Type")}else t(null,l,c);l++}}function h(e,t,r){var n=r;return l(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}function f(e,t){l(e,function(e,r,n){var i=null===e?null:e.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return void t(m(e,n),r,0)}var o;switch(i){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}e.coordinates.forEach(function(e,i){t(m({type:o,coordinates:e},n),r,i)})})}function d(e,t,r){var n=r;return f(e,function(e,i,o){n=0===i&&0===o&&void 0===r?e:t(n,e,i,o)}),n}function g(e,t){f(e,function(e,r,n){var o=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&i(e,function(i,a){var s=y([i,a],e.properties);return t(s,r,n,o),o++,a})}})}function p(e,t,r){var n=r,i=!1;return g(e,function(e,o,a,s){n=!1===i&&void 0===r?e:t(n,e,o,a,s),i=!0}),n}function m(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function y(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function v(e,t){if(!e)throw new Error("geojson is required");var r=e.geometry?e.geometry.type:e.type;if(!r)throw new Error("invalid geojson");if("FeatureCollection"===r)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===r)throw new Error("GeometryCollection is not supported");var n=e.geometry?e.geometry.coordinates:e.coordinates;if(!n)throw new Error("geojson must contain coordinates");switch(r){case"LineString":return void t(n,0,0);case"Polygon":case"MultiLineString":for(var i=0,o=0;o<n.length;o++)"MultiLineString"===r&&(i=o),t(n[o],o,i);return;case"MultiPolygon":for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)t(n[a][s],s,a);return;default:throw new Error(r+" geometry not supported")}}function w(e,t,r){var n=r;return v(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.coordEach=n,t.coordReduce=i,t.propEach=o,t.propReduce=a,t.featureEach=s,t.featureReduce=u,t.coordAll=c,t.geomEach=l,t.geomReduce=h,t.flattenEach=f,t.flattenReduce=d,t.segmentEach=g,t.segmentReduce=p,t.feature=m,t.lineString=y,t.lineEach=v,t.lineReduce=w},function(e,t){e.exports=_},function(e,t,r){"use strict";function n(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.ignoreBoundary;if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var s=Object(a.a)(e),u=Object(a.b)(t),c=t.geometry?t.geometry.type:t.type,l=t.bbox;if(l&&!1===o(s,l))return!1;"Polygon"===c&&(u=[u]);for(var h=0,f=!1;h<u.length&&!f;h++)if(i(s,u[h][0],n)){for(var d=!1,g=1;g<u[h].length&&!d;)i(s,u[h][g],!n)&&(d=!0),g++;d||(f=!0)}return f}function i(e,t,r){var n=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],u=t[o][0],c=t[o][1];if(e[1]*(a-u)+s*(u-e[0])+c*(e[0]-a)==0&&(a-e[0])*(u-e[0])<=0&&(s-e[1])*(c-e[1])<=0)return!r;s>e[1]!=c>e[1]&&e[0]<(u-a)*(e[1]-s)/(c-s)+a&&(n=!n)}return n}function o(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}Object.defineProperty(t,"__esModule",{value:!0});var a=r(29);t.default=n},function(e,t,r){"use strict";function n(e,t,r){if(null!==e)for(var i,o,a,s,u,c,l,h,f=0,d=0,g=e.type,p="FeatureCollection"===g,m="Feature"===g,y=p?e.features.length:1,v=0;v<y;v++){l=p?e.features[v].geometry:m?e.geometry:e,h=!!l&&"GeometryCollection"===l.type,u=h?l.geometries.length:1;for(var w=0;w<u;w++){var _=0,b=0;if(null!==(s=h?l.geometries[w]:l)){c=s.coordinates;var E=s.type;switch(f=!r||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(c,d,v,_,b))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===t(c[i],d,v,_,b))return!1;d++,"MultiPoint"===E&&_++}"LineString"===E&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(o=0;o<c[i].length-f;o++){if(!1===t(c[i][o],d,v,_,b))return!1;d++}"MultiLineString"===E&&_++,"Polygon"===E&&b++}"Polygon"===E&&_++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(b=0,o=0;o<c[i].length;o++){for(a=0;a<c[i][o].length-f;a++){if(!1===t(c[i][o][a],d,v,_,b))return!1;d++}b++}_++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===n(s.geometries[i],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,i){var o=r;return n(e,function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)},i),o}function o(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function a(e,t,r){var n=r;return o(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function u(e,t,r){var n=r;return s(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function c(e){var t=[];return n(e,function(e){t.push(e)}),t}function l(e,t){var r,n,i,o,a,s,u,c,l,h,f=0,d="FeatureCollection"===e.type,g="Feature"===e.type,p=d?e.features.length:1;for(r=0;r<p;r++){for(s=d?e.features[r].geometry:g?e.geometry:e,c=d?e.features[r].properties:g?e.properties:{},l=d?e.features[r].bbox:g?e.bbox:void 0,h=d?e.features[r].id:g?e.id:void 0,u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,c,l,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===t(o.geometries[n],f,c,l,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,h))return!1;f++}}function h(e,t,r){var n=r;return l(e,function(e,i,o,a,s){n=0===i&&void 0===r?e:t(n,e,i,o,a,s)}),n}function f(e,t){l(e,function(e,r,n,i,o){var a=null===e?null:e.type;switch(a){case null:case"Point":case"LineString":case"Polygon":if(!1===t(_.feature(e,n,{bbox:i,id:o}),r,0))return!1;return}var s;switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c=e.coordinates[u],l={type:s,coordinates:c};if(!1===t(_.feature(l,n),r,u))return!1}})}function d(e,t,r){var n=r;return f(e,function(e,i,o){n=0===i&&0===o&&void 0===r?e:t(n,e,i,o)}),n}function g(e,t){f(e,function(e,r,i){var o=0;if(e.geometry){var a=e.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var s,u=0,c=0,l=0;return!1!==n(e,function(n,a,h,f,d){if(void 0===s||r>u||f>c||d>l)return s=n,u=r,c=f,l=d,void(o=0);var g=_.lineString([s,n],e.properties);if(!1===t(g,r,i,d,o))return!1;o++,s=n})&&void 0}}})}function p(e,t,r){var n=r,i=!1;return g(e,function(e,o,a,s,u){n=!1===i&&void 0===r?e:t(n,e,o,a,s,u),i=!0}),n}function m(e,t){if(!e)throw new Error("geojson is required");f(e,function(e,r,n){if(null!==e.geometry){var i=e.geometry.type,o=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<o.length;a++)if(!1===t(_.lineString(o[a],e.properties),r,n,a))return!1}}})}function y(e,t,r){var n=r;return m(e,function(e,i,o,a){n=0===i&&void 0===r?e:t(n,e,i,o,a)}),n}function v(e,t){if(t=t||{},!_.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),_.lineString([u[a],u[a+1]],s,t);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),_.lineString([u[o][a],u[o][a+1]],s,t);case"MultiLineString":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),_.lineString([u[i][a],u[i][a+1]],s,t);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),a<0&&(a=u[i][o].length-a-1),_.lineString([u[i][o][a],u[i][o][a+1]],s,t)}throw new Error("geojson is invalid")}function w(e,t){if(t=t||{},!_.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,i=t.multiFeatureIndex||0,o=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return _.point(u,s,t);case"MultiPoint":return i<0&&(i=u.length+i),_.point(u[i],s,t);case"LineString":return a<0&&(a=u.length+a),_.point(u[a],s,t);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),_.point(u[o][a],s,t);case"MultiLineString":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),_.point(u[i][a],s,t);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),a<0&&(a=u[i][o].length-a),_.point(u[i][o][a],s,t)}throw new Error("geojson is invalid")}Object.defineProperty(t,"__esModule",{value:!0});var _=r(31);t.coordEach=n,t.coordReduce=i,t.propEach=o,t.propReduce=a,t.featureEach=s,t.featureReduce=u,t.coordAll=c,t.geomEach=l,t.geomReduce=h,t.flattenEach=f,t.flattenReduce=d,t.segmentEach=g,t.segmentReduce=p,t.lineEach=m,t.lineReduce=y,t.findSegment=v,t.findPoint=w},function(e,t,r){"use strict";function n(e,t){var r={},n=[];if("LineString"===e.type&&(e=Object(c.feature)(e)),"LineString"===t.type&&(t=Object(c.feature)(t)),"Feature"===e.type&&"Feature"===t.type&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var l=i(e,t);return l&&n.push(l),Object(c.featureCollection)(n)}var h=Object(o.a)();return h.load(Object(a.a)(t)),Object(u.a)(Object(a.a)(e),function(e){Object(u.a)(h.search(e),function(t){var o=i(e,t);if(o){var a=Object(s.a)(o).join(",");r[a]||(r[a]=!0,n.push(o))}})}),Object(c.featureCollection)(n)}function i(e,t){var r=Object(s.a)(e),n=Object(s.a)(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],a=r[1][0],u=r[1][1],l=n[0][0],h=n[0][1],f=n[1][0],d=n[1][1],g=(d-h)*(a-i)-(f-l)*(u-o),p=(f-l)*(o-h)-(d-h)*(i-l),m=(a-i)*(o-h)-(u-o)*(i-l);if(0===g)return null;var y=p/g,v=m/g;if(y>=0&&y<=1&&v>=0&&v<=1){var w=i+y*(a-i),_=o+y*(u-o);return Object(c.point)([w,_])}return null}Object.defineProperty(t,"__esModule",{value:!0});var o=r(39),a=r(42),s=r(45),u=r(46),c=r(0);t.default=n},function(e,t,r){r(10),r(11),r(54),r(57),e.exports=r(59)},function(e,t){var r=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;L.Cut=function(e){function t(e,t){}return r(t,e),t.TYPE="cut",t}(L.Handler)},function(e,t,r){var n,i,o,a,s,u,c,l,h,f,d,g,p=function(e,t){return function(){return e.apply(t,arguments)}},m=function(e,t){function r(){this.constructor=e}for(var n in t)y.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty,v=[].slice;n=r(3),i=r(5),o=r(0),c=r(12),f=r(23),g=r(6),s=r(30),l=r(7),h=r(32),u=r(8),d=r(49),a=r(51).getCoords,r(53),n.Cutting={},n.Cutting.Polyline={},n.Cutting.Polyline.Event={},n.Cutting.Polyline.Event.START="cut:polyline:start",n.Cutting.Polyline.Event.STOP="cut:polyline:stop",n.Cutting.Polyline.Event.SELECT="cut:polyline:select",n.Cutting.Polyline.Event.UNSELECT="cut:polyline:unselect",n.Cutting.Polyline.Event.CREATED="cut:polyline:created",n.Cutting.Polyline.Event.UPDATED="cut:polyline:updated",n.Cutting.Polyline.Event.SAVED="cut:polyline:saved",n.Cut.Polyline=function(e){function t(e,r){if(this._constraintSnap=p(this._constraintSnap,this),this._glue_on_click=p(this._glue_on_click,this),this._disable_on_mouseup=p(this._disable_on_mouseup,this),this._glue_on_enabled=p(this._glue_on_enabled,this),this.glueMarker=p(this.glueMarker,this),this.type=this.constructor.TYPE,this._map=e,t.__super__.constructor.call(this,e),this.options=i.merge(this.options,r),this._featureGroup=r.featureGroup,this._uneditedLayerProps=[],!(this._featureGroup instanceof n.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup")}return m(t,e),t.TYPE="cut-polyline",t.prototype.enable=function(){if(!this._enabled&&this._featureGroup.getLayers().length)return this._availableLayers=new n.GeoJSON([],{style:function(e){return{color:e.properties.color}}}),this._activeLayer=void 0,this.fire("enabled",{handler:this.type}),this._map.fire(n.Cutting.Polyline.Event.START,{handler:this.type}),this._availableLayers.addTo(this._map),this._availableLayers.on("layeradd",this._enableLayer,this),this._availableLayers.on("layerremove",this._disableLayer,this),this._map.on(n.Cutting.Polyline.Event.SELECT,this._cutMode,this),this._map.on("zoomend moveend",this.refreshAvailableLayers,this),this._map.on("mousemove",this._selectLayer,this),this._map.on("mousemove",this._cutMode,this),t.__super__.enable.apply(this,arguments)},t.prototype.disable=function(){this._enabled&&(this._availableLayers.off("layeradd",this._enableLayer,this),this._availableLayers.off("layerremove",this._disableLayer,this),t.__super__.disable.apply(this,arguments),this._map.fire(n.Cutting.Polyline.Event.STOP,{handler:this.type}),this._map.off(n.Cutting.Polyline.Event.SELECT,this._startCutDrawing,this),this._activeLayer&&this._activeLayer.cutting&&(this._activeLayer.cutting.disable(),this._activeLayer&&this._activeLayer.cutting._poly&&(this._map.removeLayer(this._activeLayer.cutting._poly),delete this._activeLayer.cutting._poly),delete this._activeLayer.cutting),this._activeLayer&&this._activeLayer.editing&&(this._activeLayer.editing.disable(),this._activeLayer&&this._activeLayer.editing._poly&&this._map.removeLayer(this._activeLayer.editing._poly)),this._activeLayer&&this._activeLayer._polys&&(this._activeLayer._polys.clearLayers(),delete this._activeLayer._polys,delete this._activeLayer.editing,delete this._activeLayer.glue),this._featureGroup._map||this._map.addLayer(this._featureGroup),this._availableLayers.eachLayer(function(e){return function(t){return e._map.removeLayer(t)}}(this)),this._availableLayers.length=0,this._startPoint=null,this._activeLayer=null,this._map.off(n.Draw.Event.DRAWVERTEX,this._finishDrawing,this),this._map.off("click",this._finishDrawing,this),this._map.off("mousemove",this._selectLayer,this),this._map.off("mousemove",this._cutMode,this),this._map.off("zoomend moveend",this.refreshAvailableLayers,this),this.fire("disabled",{handler:this.type}))},t.prototype.addHooks=function(){return this.refreshAvailableLayers(),this._map.removeLayer(this._featureGroup)},t.prototype.refreshAvailableLayers=function(){var e,t,r,i,o,a,s,u,c;if(this._featureGroup.addTo(this._map),this._featureGroup.getLayers().length){if("function"==typeof this._featureGroup.search){if(u=new n.FeatureGroup(this._featureGroup.search(this._map.getBounds())),c=this._availableLayers.getLayers().filter(function(e){return!u.hasLayer(e)}),c.length)for(r=0,a=c.length;r<a;r++)o=c[r],this._availableLayers.removeLayer(o);if(e=u.getLayers().filter(function(e){return function(t){return!e._availableLayers.hasUUIDLayer(t)}}(this)),e.length)for(i=0,s=e.length;i<s;i++)o=e[i],this._availableLayers.hasUUIDLayer(o)||(t=o.toGeoJSON(),t.properties.color=o.options.color,this._availableLayers.addData(t))}else this._availableLayers=this._featureGroup;return this._map.removeLayer(this._featureGroup)}},t.prototype.removeHooks=function(){return this._availableLayers.eachLayer(this._disableLayer,this)},t.prototype.save=function(){var e;e=[],this._map.addLayer(this._featureGroup),this._activeLayer._polys&&(this._activeLayer._polys.eachLayer(function(e){return function(t){return e._featureGroup.addData(t.toGeoJSON())}}(this)),this._activeLayer._polys.clearLayers(),delete this._activeLayer._polys,e=this._featureGroup.getLayers().slice(-2),this._map.fire(n.Cutting.Polyline.Event.SAVED,{oldLayer:{uuid:this._activeLayer.feature.properties.uuid,type:this._activeLayer.feature.properties.type},layers:e}),this._map.removeLayer(this._activeLayer))},t.prototype._enableLayer=function(e){var t,r;return t=e.layer||e.target||e,t.options.original=n.extend({},t.options),this.options.disabledPathOptions&&(r=n.Util.extend({},this.options.disabledPathOptions),r.maintainColor&&(r.color=t.options.color,r.fillColor=t.options.fillColor),t.options.disabled=r),this.options.selectedPathOptions&&(r=n.Util.extend({},this.options.selectedPathOptions),r.maintainColor&&(r.color=t.options.color,r.fillColor=t.options.fillColor||r.color),r.fillOpacity=t.options.fillOpacity||r.fillOpacity,t.options.selected=r),t.setStyle(t.options.disabled)},t.prototype._selectLayer=function(e){var t,r;if(r=e.latlng,t=!1,this._availableLayers.eachLayer(function(e){return function(n){var i,o;i=r.toTurfFeature(),o=n.toTurfFeature(),g.default(i,o)&&(n!==e._activeLayer&&e._activate(n,r),t=!0)}}(this)),!t)return this._activeLayer&&!this._activeLayer.glue?this._unselectLayer(this._activeLayer):void 0},t.prototype._unselectLayer=function(e){var t;return t=e.layer||e.target||e,t.selected=!1,this.options.selectedPathOptions&&t.setStyle(t.options.disabled),t.cutting&&(t.cutting.disable(),delete t.cutting),this._map.on("mousemove",this._selectLayer,this),this._activeLayer=null},t.prototype._disableLayer=function(e){var t;return t=e.layer||e.target||e,t.selected=!1,this.options.selectedPathOptions&&t.setStyle(t.options.original),delete t.options.disabled,delete t.options.selected,delete t.options.original},t.prototype._activate=function(e,t){var r;return r=e.target||e.layer||e,r.selected?(r.selected=!1,r.setStyle(r.options.disabled),this._activeLayer.cutting.disable(),delete this._activeLayer.cutting,this._activeLayer=null,this._map.fire(n.Cutting.Polyline.Event.UNSELECT,{layer:r})):(r.selected=!0,r.setStyle(r.options.selected),this._activeLayer&&this._unselectLayer(this._activeLayer),this._activeLayer=r,this._map.fire(n.Cutting.Polyline.Event.SELECT,{layer:this._activeLayer,latlng:t}))},t.prototype._cutMode=function(){var e,t;if(this._activeLayer)return this._activeLayer.cutting||(this._activeLayer.cutting=new n.Draw.Polyline(this._map),e=i.merge(this.options.snap,{guideLayers:[this._activeLayer]}),this._activeLayer.cutting.setOptions(e),this.options.cuttingPathOptions&&(t=n.Util.extend({},this.options.cuttingPathOptions),t.maintainColor&&(t.color=this._activeLayer.options.color,t.fillColor=this._activeLayer.options.fillColor),t.fillOpacity=.5,this._activeLayer.options.cutting=t),this._activeLayer.cutting.enable()),this._startPoint?void 0:(this._activeLayer.cutting._mouseMarker.on("move",this.glueMarker,this),this._activeLayer.cutting._mouseMarker.on("snap",this._glue_on_enabled,this))},t.prototype.glueMarker=function(e){var t,r;return r=e.target||this._activeLayer.cutting._mouseMarker,r.glue=!0,t=n.GeometryUtil.closest(this._map,this._activeLayer,e.latlng,!1),r._latlng=n.latLng(t.lat,t.lng),r.update()},t.prototype._glue_on_enabled=function(){return this._activeLayer.glue=!0,this._activeLayer.cutting._snapper.unwatchMarker(this._activeLayer.cutting._mouseMarker),this._activeLayer.cutting._mouseMarker.on("mousedown",this._glue_on_click,this),this._map.on("click",this._glue_on_click,this)},t.prototype._disable_on_mouseup=function(e){return this._activeLayer.cutting._enableNewMarkers(),this._activeLayer.cutting._clickHandled=null,n.DomEvent.stopPropagation(e)},t.prototype._glue_on_click=function(e){var t,r,i,o,a;if(this._activeLayer.cutting._mouseDownOrigin||this._activeLayer.cutting._markers.length||(this._activeLayer.cutting._mouseMarker,this._activeLayer.cutting.addVertex(this._activeLayer.cutting._mouseMarker._latlng)),this._activeLayer.cutting._markers&&(i=this._activeLayer.cutting._markers.length,r=this._activeLayer.cutting._markers[i-1],1===i&&(this._activeLayer.cutting._snapper.addOrigin(this._activeLayer.cutting._markers[0]),n.DomUtil.addClass(this._activeLayer.cutting._markers[0]._icon,"marker-origin")),r))return n.DomUtil.addClass(r._icon,"marker-snapped"),r.setLatLng(this._activeLayer.cutting._mouseMarker._latlng),o=this._activeLayer.cutting._poly,t=o.getLatLngs(),t.splice(-1,1),this._activeLayer.cutting._poly.setLatLngs(t),this._activeLayer.cutting._poly.addLatLng(this._activeLayer.cutting._mouseMarker._latlng),a=this._map.latLngToLayerPoint(r._latlng),this._activeLayer.cutting._updateGuide(a),this._activeLayer.setStyle(this._activeLayer.options.cutting),this._activeLayer.glue=!1,r.on("mouseup",this._disable_on_mouseup,this),this._map.off("mousemove",this._selectLayer,this),this._startPoint=r,this._activeLayer.cutting._mouseMarker.off("move",this.glueMarker,this),this._activeLayer.cutting._mouseMarker.off("mousedown",this._glue_on_click,this),this._map.off("click",this._glue_on_click,this),this._activeLayer.cutting._snapper.watchMarker(this._activeLayer.cutting._mouseMarker),this._activeLayer.cutting._mouseMarker.off("snap",this._glue_on_enabled,this),this._activeLayer.cutting._mouseMarker.on("snap",function(e){return function(t){return e._map.on(n.Draw.Event.DRAWVERTEX,e._finishDrawing,e),e._map.on("click",e._finishDrawing,e),e._activeLayer.cutting._mouseMarker.off("move",e._constraintSnap,e)}}(this)),this._activeLayer.cutting._mouseMarker.on("unsnap",function(e){return function(t){return e._activeLayer.cutting._mouseMarker.on("move",e._constraintSnap,e),e._map.off(n.Draw.Event.DRAWVERTEX,e._finishDrawing,e),e._map.off("click",e._finishDrawing,e)}}(this))},t.prototype._constraintSnap=function(e){var t,r,n,i;if(t=this._activeLayer.cutting._mouseMarker,r=t._latlng.toTurfFeature(),n=this._activeLayer.toTurfFeature(),!g.default(r,n,{ignoreBoundary:!0}))return this.glueMarker({target:this._activeLayer.cutting._mouseMarker,latlng:this._activeLayer.cutting._mouseMarker._latlng}),i=this._map.latLngToLayerPoint(t._latlng),this._activeLayer.cutting._updateGuide(i),this._map.on("click",this._finishDrawing,this)},t.prototype._finishDrawing=function(e){var t,r,i;return r=this._activeLayer.cutting._markers.length,this._activeLayer.cutting._markers[r-1],n.Browser.touch&&(this._activeLayer.cutting._markers.pop(),i=this._activeLayer.cutting._poly,t=i.getLatLngs(),t.splice(-1,1)[0],this._activeLayer.cutting._poly.setLatLngs(t)),e.layers&&!n.Browser.touch||(this._activeLayer.cutting._markers.push(this._activeLayer.cutting._createMarker(this._activeLayer.cutting._mouseMarker._latlng)),this._activeLayer.cutting._poly.addLatLng(this._activeLayer.cutting._mouseMarker._latlng)),this._stopCutDrawing()},t.prototype._cut=function(e,t){var r,i,g,p,m,y,w,_,b,E,L,M,A,C,S,P,x,O,N,k,T,G,D,F,q,I,j,R,U,B,X,Y,J,z,H;for(x=e.outerRingAsTurfLineString(),G=t.getLatLngs(),i=G[0],E=G[G.length-1],U=c(i.toTurfFeature(),E.toTurfFeature(),x),U=f(U,!0),D=U.geometry.coordinates,p=D[0],q=3<=D.length?v.call(D,1,w=D.length-1):(w=1,[]),M=D[w++],0,null,O=a(x).slice(0),X=[[]],Y=0,q.length||(g=h.default(x,o.point(p)),L=h.default(x,o.point(M)),g.properties.index===L.properties.index&&(I=null,l.segmentEach(x,function(e,t,r,n,i){if(i===g.properties.index)return I=a(e)}))),_=0,A=O.length;_<A;_++)r=O[_],H=q.filter(function(e){return e[0]===r[0]&&e[1]===r[1]}),1!==H.length?null==I||I[0][0]!==r[0]||I[0][1]!==r[1]?X[Y].push(r):(X[Y].push(r),0===Y&&(Y++,X.push([]))):0===Y&&(Y++,X.push([]));if(J=t.toTurfFeature(),J=f(J),F=J.geometry.coordinates,F[0],z=3<=F.length?v.call(F,1,P=F.length-1):(P=1,[]),F[P++],z.unshift(M),z.push(p),J=o.lineString(z),y=d.default(u.default(J,x),{precision:3}),y.features.length>0&&(j=a(d.default(i.toTurfFeature(),{precision:3})),R=a(d.default(E.toTurfFeature(),{precision:3})),m=y.features.filter(function(e){var t;return t=a(e),!(t[0]===j[0]&&t[1]===j[1]||t[0]===R[0]&&t[1]===R[1])}),m.length>0))throw new Error("kinks");if(C=this.turfLineMerge(U,J),b=s.default(C),b.features.length>0)throw new Error("kinks");return B=X.map(function(e){if(e.length)return 1===e.length?o.point(e[0]):o.lineString(e)}).filter(function(e){return e}),B.splice(1,0,J),S=this.turfLineMerge.apply(this,B),b=s.default(S),b.features.length>0&&(J=f(J,!0),B.splice(1,1,J),S=this.turfLineMerge.apply(this,B)),N=new n.polygon([],{fillColor:"#FFC107",fillOpacity:.9,opacity:1,weight:1,color:"black"}),N.fromTurfFeature(C),k=new n.polygon([],{fillColor:"#009688",fillOpacity:.9,opacity:1,weight:1,color:"black"}),k.fromTurfFeature(S),T=new n.Polyline([]),T.fromTurfFeature(J),[N,k,T]},t.prototype._stopCutDrawing=function(){var e,t,r,i,o,a;e=this._activeLayer.cutting._poly;try{return o=this._cut(this._activeLayer,e),r=o[0],i=o[1],a=o[2],this._activeLayer.cutting.disable(),this._map.removeLayer(this._activeLayer),this._activeLayer._polys=new n.LayerGroup,this._activeLayer._polys.addTo(this._map),this._activeLayer._polys.addLayer(r),this._activeLayer._polys.addLayer(i),this._map.fire(n.Cutting.Polyline.Event.CREATED,{layers:[r,i]}),this._activeLayer.editing=new n.Edit.Poly(a),this._activeLayer.editing._poly.options.editing={color:"#fe57a1",dashArray:"10, 10"},this._activeLayer.editing._poly.addTo(this._map),this._activeLayer.editing.enable(),this._activeLayer.editing._poly.on("editstart",function(e){return function(t){var r,i,o,a,s;for(a=e._activeLayer.editing._verticesHandlers[0]._markers,s=[],r=0,i=a.length;r<i;r++)o=a[r],o.off("move",e._moveMarker,e),n.stamp(o)!==n.stamp(e._activeLayer.editing._verticesHandlers[0]._markers[0])&&n.stamp(o)!==n.stamp(e._activeLayer.editing._verticesHandlers[0]._markers.slice(0).pop())||o.on("move",e.glueMarker,e),s.push(o.on("move",e._moveMarker,e));return s}}(this)),this._map.off("click",this._finishDrawing,this)}catch(e){if(t=e,"kinks"===t.message)return this._activeLayer.cutting.disable(),this._unselectLayer(this._activeLayer)}},t.prototype._moveMarker=function(e){var t,r,i,o,a,s,u,c;i=e.marker||e.target||e,t=this._activeLayer.editing._poly,i.glue||(r=i._latlng,o=r.toTurfFeature(),a=this._activeLayer.toTurfFeature(),!g.default(o,a,{ignoreBoundary:!0})&&i._oldLatLng&&(i._latlng=i._oldLatLng,i.update()));try{if(c=this._cut(this._activeLayer,t),s=c[0],u=c[1],i._oldLatLng=i._latlng,this._activeLayer._polys.clearLayers(),this._map.removeLayer(this._activeLayer),s.addTo(this._map),void 0!==u)return u.addTo(this._map),this._activeLayer._polys.addLayer(u),this._activeLayer._polys.addLayer(s),this._activeLayer.editing._poly.bringToFront(),this._map.fire(n.Cutting.Polyline.Event.UPDATED,{layers:[s,u]})}catch(e){}},t.prototype._hasAvailableLayers=function(){return 0!==this._availableLayers.length},t.prototype.turfLineMerge=function(){var e,t,r,n,i,s,u,c,l,h,f,d;for(d=1<=arguments.length?v.call(arguments,0):[],t=[],n=0,c=d.length;n<c;n++){if(h=d[n],"Feature"!==h.type||"Feature"!==h.type)throw new Error("inputs must be LineString Features");for(f=a(h).slice(0),"Point"===h.geometry.type&&(f=[f]),i=0,l=f.length;i<l;i++)e=f[i],(s=t.slice(0).pop())&&s[0]===e[0]&&s[1]===e[1]||t.push(e)}return r=t.slice(0).shift(),u=t.slice(0).pop(),r[0]===u[0]&&r[1]===u[1]||t.push(r),o.lineString(t)},t}(n.Handler),n.Cut.Polyline.include(n.Mixin.Events)},function(e,t,r){var n=r(13).lineString,i=r(14);e.exports=function(e,t,r){var o;if("Feature"===r.type)o=r.geometry.coordinates;else{if("LineString"!==r.type)throw new Error("input must be a LineString Feature or Geometry");o=r.coordinates}var a,s=i(r,e),u=i(r,t);a=s.properties.index<=u.properties.index?[s,u]:[u,s];for(var c=[a[0].geometry.coordinates],l=a[0].properties.index+1;l<a[1].properties.index+1;l++)c.push(o[l]);return c.push(a[1].geometry.coordinates),n(c,r.properties)}},function(e,t){function r(e,t,r,n){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var i={type:"Feature"};return n&&(i.id=n),r&&(i.bbox=r),i.properties=t||{},i.geometry=e,i}function n(e,t,r){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");var n;switch(e){case"Point":n=i(t).geometry;break;case"LineString":n=a(t).geometry;break;case"Polygon":n=o(t).geometry;break;case"MultiPoint":n=c(t).geometry;break;case"MultiLineString":n=u(t).geometry;break;case"MultiPolygon":n=l(t).geometry;break;default:throw new Error(e+" is invalid")}return r&&(n.bbox=r),n}function i(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!b(e[0])||!b(e[1]))throw new Error("Coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n,i)}function o(e,t,n,i){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++){var a=e[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===o&&0===s&&!b(a[0][0])||!b(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return r({type:"Polygon",coordinates:e},t,n,i)}function a(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!b(e[0][1])||!b(e[0][1]))throw new Error("Coordinates must contain numbers");return r({type:"LineString",coordinates:e},t,n,i)}function s(e,t,r){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"FeatureCollection"};return r&&(n.id=r),t&&(n.bbox=t),n.features=e,n}function u(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiLineString",coordinates:e},t,n,i)}function c(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPoint",coordinates:e},t,n,i)}function l(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPolygon",coordinates:e},t,n,i)}function h(e,t,n,i){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return r({type:"GeometryCollection",geometries:e},t,n,i)}function f(e,t){if(void 0===e||null===e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function d(e,t){if(void 0===e||null===e)throw new Error("radians is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e*r}function g(e,t){if(void 0===e||null===e)throw new Error("distance is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e/r}function p(e,t){return y(g(e,t))}function m(e){if(null===e||void 0===e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function y(e){if(null===e||void 0===e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function v(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function w(e,t,r){if(null===e||void 0===e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return d(g(e,t),r||"kilometers")}function _(e,t,r){if(null===e||void 0===e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var n=L[t||"meters"];if(!n)throw new Error("invalid original units");var i=L[r||"kilometers"];if(!i)throw new Error("invalid final units");return e/n*i}function b(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}var E={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},L={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};e.exports={feature:r,geometry:n,featureCollection:s,geometryCollection:h,point:i,multiPoint:c,lineString:a,multiLineString:u,polygon:o,multiPolygon:l,radiansToDistance:d,distanceToRadians:g,distanceToDegrees:p,radians2degrees:y,degrees2radians:v,bearingToAngle:m,convertDistance:w,convertArea:_,round:f,isNumber:b}},function(e,t,r){var n=r(4),i=r(2),o=r(15),a=r(16),s=r(1),u=r(17),c=r(18),l=i.point,h=s.getCoords,f=i.lineString,d=n.flattenEach;e.exports=function(e,t,r){var n=e.geometry?e.geometry.type:e.type;if("LineString"!==n&&"MultiLineString"!==n)throw new Error("lines must be LineString or MultiLineString");var i=l([1/0,1/0],{dist:1/0}),s=0;return d(e,function(e){for(var n=h(e),d=0;d<n.length-1;d++){var g=l(n[d]);g.properties.dist=a(t,g,r);var p=l(n[d+1]);p.properties.dist=a(t,p,r);var m=a(g,p,r),y=Math.max(g.properties.dist,p.properties.dist),v=o(g,p),w=u(t,y,v+90,r),_=u(t,y,v-90,r),b=c(f([w.geometry.coordinates,_.geometry.coordinates]),f([g.geometry.coordinates,p.geometry.coordinates])),E=null;b.features.length>0&&(E=b.features[0],E.properties.dist=a(t,E,r),E.properties.location=s+a(g,E,r)),g.properties.dist<i.properties.dist&&(i=g,i.properties.index=d,i.properties.location=s),p.properties.dist<i.properties.dist&&(i=p,i.properties.index=d+1,i.properties.location=s+m),E&&E.properties.dist<i.properties.dist&&(i=E,i.properties.index=d),s+=m}}),i}},function(e,t,r){function n(e,t,r){if(!0===r)return i(e,t);var n=Math.PI/180,a=180/Math.PI,s=o(e),u=o(t),c=n*s[0],l=n*u[0],h=n*s[1],f=n*u[1],d=Math.sin(l-c)*Math.cos(f),g=Math.cos(h)*Math.sin(f)-Math.sin(h)*Math.cos(f)*Math.cos(l-c);return a*Math.atan2(d,g)}function i(e,t){var r=n(t,e);return r=(r+180)%360}var o=r(1).getCoord;e.exports=n},function(e,t,r){var n=r(1).getCoord,i=r(2).radiansToDistance;e.exports=function(e,t,r){var o=Math.PI/180,a=n(e),s=n(t),u=o*(s[1]-a[1]),c=o*(s[0]-a[0]),l=o*a[1],h=o*s[1],f=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(h);return i(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),r)}},function(e,t,r){var n=r(1).getCoord,i=r(2),o=i.point,a=i.distanceToRadians;e.exports=function(e,t,r,i){var s=Math.PI/180,u=180/Math.PI,c=n(e),l=s*c[0],h=s*c[1],f=s*r,d=a(t,i),g=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(f)),p=l+Math.atan2(Math.sin(f)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(g));return o([u*p,u*g])}},function(e,t,r){function n(e,t){var r=s(e),n=s(t);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],a=r[1][0],u=r[1][1],l=n[0][0],h=n[0][1],f=n[1][0],d=n[1][1],g=(d-h)*(a-i)-(f-l)*(u-o),p=(f-l)*(o-h)-(d-h)*(i-l),m=(a-i)*(o-h)-(u-o)*(i-l);if(0===g)return null;var y=p/g,v=m/g;if(y>=0&&y<=1&&v>=0&&v<=1){return c([i+y*(a-i),o+y*(u-o)])}return null}var i=r(4),o=r(19),a=r(2),s=r(1).getCoords,u=r(22),c=a.point,l=i.featureEach,h=a.featureCollection;e.exports=function(e,t){var r={},i=[];if("LineString"===e.type&&(e=a.feature(e)),"LineString"===t.type&&(t=a.feature(t)),"Feature"===e.type&&"Feature"===t.type&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var c=n(e,t);return c&&i.push(c),h(i)}var f=o();return f.load(u(t)),l(u(e),function(e){l(f.search(e),function(t){var o=n(e,t);if(o){var a=s(o).join(",");r[a]||(r[a]=!0,i.push(o))}})}),h(i)}},function(e,t,r){function n(e){var t=[e[0],e[1]],r=[e[0],e[3]],n=[e[2],e[3]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],n,r,t]]}}}function i(e){var t=[1/0,1/0,-1/0,-1/0];return u(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}var o=r(20),a=r(4),s=a.featureEach,u=a.coordEach;e.exports=function(e){var t=o(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;e=n(t),e.bbox=t}else e.bbox=e.bbox?e.bbox:i(e);return o.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach(function(e){var r=n(e);r.bbox=e,t.push(r)}):s(e,function(e){e.bbox=e.bbox?e.bbox:i(e),t.push(e)}),o.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;e=n(t),e.bbox=t}return o.prototype.remove.call(this,e)},t.clear=function(){return o.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:o.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return o.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:o.prototype.all.call(this)}},t.toJSON=function(){return o.prototype.toJSON.call(this)},t.fromJSON=function(e){return o.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:i(e),{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=t;a<r;a++)o=e.children[a],s(i,e.leaf?n(o):o);return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function d(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,r,n,i){for(var o,a=[t,r];a.length;)r=a.pop(),t=a.pop(),r-t<=n||(o=t+Math.ceil((r-t)/n/2)*n,v(e,o,t,r,i),a.push(t,o,o,r))}e.exports=n,e.exports.default=n;var v=r(21);n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!p(e,t))return r;for(var i,o,a,s,u=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],s=t.leaf?n(a):a,p(e,s)&&(t.leaf?r.push(a):g(e,s)?this._all(a,r):u.push(a));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!p(e,t))return!1;for(var n,i,o,a,s=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],a=t.leaf?r(o):o,p(e,a)){if(t.leaf||g(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var r,n,o,a,s=this.data,u=this.toBBox(e),c=[],l=[];s||c.length;){if(s||(s=c.pop(),n=c[c.length-1],r=l.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),c.push(s),this._condense(c),this;a||s.leaf||!g(s,u)?n?(r++,s=n.children[r],a=!1):s=null:(c.push(s),l.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return i=m(e.slice(t,r+1)),o(i,this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),i=m([]),i.leaf=!1,i.height=n;var u,c,l,h,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(y(e,t,r,d,this.compareMinX),u=t;u<=r;u+=d)for(l=Math.min(u+d-1,r),y(e,u,l,f,this.compareMinY),c=u;c<=l;c+=f)h=Math.min(c+f-1,l),i.children.push(this._build(e,c,h,n-1));return o(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,o,a,s,u,c,h,d;;){if(n.push(t),t.leaf||n.length-1===r)break;for(h=d=1/0,i=0,o=t.children.length;i<o;i++)a=t.children[i],u=l(a),c=f(e,a)-u,c<d?(d=c,h=u<h?u:h,s=a):c===d&&u<h&&(h=u,s=a);t=s||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),s(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=m(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,o,s,u,c,h,f;for(c=h=1/0,n=t;n<=r-t;n++)i=a(e,0,n,this.toBBox),o=a(e,n,r,this.toBBox),s=d(i,o),u=l(i)+l(o),s<c?(c=s,f=n,h=u<h?u:h):s===c&&u<h&&(h=u,f=n);return f},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,o,u=this.toBBox,c=a(e,0,t,u),l=a(e,r-t,r,u),f=h(c)+h(l);for(i=t;i<r-t;i++)o=e.children[i],s(c,e.leaf?u(o):o),f+=h(c);for(i=r-t-1;i>=t;i--)o=e.children[i],s(l,e.leaf?u(o):o),f+=h(l);return f},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children,t.splice(t.indexOf(e[r]),1)):this.clear():o(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e,r,i,o,a){t(e,r,i||0,o||e.length-1,a||n)}function t(e,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-u*l/s+h)),Math.min(o,Math.floor(n+(s-u)*l/s+h)),a)}var f=e[n],d=i,g=o;for(r(e,i,n),a(e[o],f)>0&&r(e,i,o);d<g;){for(r(e,d,g),d++,g--;a(e[d],f)<0;)d++;for(;a(e[g],f)>0;)g--}0===a(e[i],f)?r(e,i,g):(g++,r(e,g,o)),g<=n&&(i=g+1),n<=g&&(o=g-1)}}function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t){return e<t?-1:e>t?1:0}return e})},function(e,t,r){function n(e,t){var r=[],n=e.geometry;switch(n.type){case"Polygon":r=s(n);break;case"LineString":r=[s(n)]}r.forEach(function(r){i(r,e.properties).forEach(function(e){e.id=t.length,t.push(e)})})}function i(e,t){var r=[];return e.reduce(function(e,n){var i=c([e,n],t);return i.bbox=o(e,n),r.push(i),n}),r}function o(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return[r<i?r:i,n<o?n:o,r>i?r:i,n>o?n:o]}var a=r(2),s=r(1).getCoords,u=r(4).flattenEach,c=a.lineString,l=a.featureCollection;e.exports=function(e){if(!e)throw new Error("geojson is required");var t=[];return u(e,function(e){n(e,t)}),l(t)}},function(e,t,r){function n(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return l(e,function(e){n(e,t)}),e;case"LineString":return i(s(e),t),e;case"Polygon":return o(s(e),t),e;case"MultiLineString":return s(e).forEach(function(e){i(e,t)}),e;case"MultiPolygon":return s(e).forEach(function(e){o(e,t)}),e;case"Point":case"MultiPoint":return e}}function i(e,t){u(e)===t&&e.reverse()}function o(e,t){u(e[0])!==t&&e[0].reverse();for(var r=1;r<e.length;r++)u(e[r])===t&&e[r].reverse()}var a=r(24),s=r(25).getCoords,u=r(26),c=r(28).featureCollection,l=a.geomEach,h=a.featureEach;e.exports=function(e,t,r){if(t=void 0!==t&&t,r=void 0!==r&&r,!e)throw new Error("<geojson> is required");if("boolean"!=typeof t)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1!==r&&void 0!==r||(e=JSON.parse(JSON.stringify(e)));var i=[];switch(e.type){case"GeometryCollection":return l(e,function(e){n(e,t)}),e;case"FeatureCollection":return h(e,function(e){h(n(e,t),function(e){i.push(e)})}),c(i)}return n(e,t)}},function(e,t,r){"use strict";function n(e,t,r){if(null!==e){var i,o,a,s,u,c,l,h,f,d,g=0,p=0,m=e.type,y="FeatureCollection"===m,v="Feature"===m,w=y?e.features.length:1;for(i=0;i<w;i++)for(f=y?e.features[i].geometry:v?e.geometry:e,d=!!f&&"GeometryCollection"===f.type,l=d?f.geometries.length:1,o=0;o<l;o++){var _=0;if(null!==(c=d?f.geometries[o]:f)){h=c.coordinates;var b=c.type;switch(g=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":t(h,p,i,_),p++,_++;break;case"LineString":case"MultiPoint":for(a=0;a<h.length;a++)t(h[a],p,i,_),p++,"MultiPoint"===b&&_++;"LineString"===b&&_++;break;case"Polygon":case"MultiLineString":for(a=0;a<h.length;a++){for(s=0;s<h[a].length-g;s++)t(h[a][s],p,i,_),p++;"MultiLineString"===b&&_++}"Polygon"===b&&_++;break;case"MultiPolygon":for(a=0;a<h.length;a++){for(s=0;s<h[a].length;s++)for(u=0;u<h[a][s].length-g;u++)t(h[a][s][u],p,i,_),p++;_++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)n(c.geometries[a],t,r);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,i){var o=r;return n(e,function(e,n,i,a){o=0===n&&void 0===r?e:t(o,e,n,i,a)},i),o}function o(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length;r++)t(e.features[r].properties,r);break;case"Feature":t(e.properties,0)}}function a(e,t,r){var n=r;return o(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)t(e.features[r],r)}function u(e,t,r){var n=r;return s(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function c(e){var t=[];return n(e,function(e){t.push(e)}),t}function l(e,t){var r,n,i,o,a,s,u,c,l=0,h="FeatureCollection"===e.type,f="Feature"===e.type,d=h?e.features.length:1;for(r=0;r<d;r++){for(s=h?e.features[r].geometry:f?e.geometry:e,c=h?e.features[r].properties:f?e.properties:{},u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(o,l,c);break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)t(o.geometries[n],l,c);break;default:throw new Error("Unknown Geometry Type")}else t(null,l,c);l++}}function h(e,t,r){var n=r;return l(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}function f(e,t){l(e,function(e,r,n){var i=null===e?null:e.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return void t(m(e,n),r,0)}var o;switch(i){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}e.coordinates.forEach(function(e,i){t(m({type:o,coordinates:e},n),r,i)})})}function d(e,t,r){var n=r;return f(e,function(e,i,o){n=0===i&&0===o&&void 0===r?e:t(n,e,i,o)}),n}function g(e,t){f(e,function(e,r,n){var o=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&i(e,function(i,a){var s=y([i,a],e.properties);return t(s,r,n,o),o++,a})}})}function p(e,t,r){var n=r,i=!1;return g(e,function(e,o,a,s){n=!1===i&&void 0===r?e:t(n,e,o,a,s),i=!0}),n}function m(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function y(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function v(e,t){if(!e)throw new Error("geojson is required");var r=e.geometry?e.geometry.type:e.type;if(!r)throw new Error("invalid geojson");if("FeatureCollection"===r)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===r)throw new Error("GeometryCollection is not supported");var n=e.geometry?e.geometry.coordinates:e.coordinates;if(!n)throw new Error("geojson must contain coordinates");switch(r){case"LineString":return void t(n,0,0);case"Polygon":case"MultiLineString":for(var i=0,o=0;o<n.length;o++)"MultiLineString"===r&&(i=o),t(n[o],o,i);return;case"MultiPolygon":for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)t(n[a][s],s,a);return;default:throw new Error(r+" geometry not supported")}}function w(e,t,r){var n=r;return v(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.coordEach=n,t.coordReduce=i,t.propEach=o,t.propReduce=a,t.featureEach=s,t.featureReduce=u,t.coordAll=c,t.geomEach=l,t.geomReduce=h,t.flattenEach=f,t.flattenReduce=d,t.segmentEach=g,t.segmentReduce=p,t.feature=m,t.lineString=y,t.lineEach=v,t.lineReduce=w},function(e,t){function r(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")}function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return i(t),t;throw new Error("No valid coordinates")}function i(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return i(e[0]);throw new Error("coordinates must only contain numbers")}function o(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function a(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function s(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0;n<e.features.length;n++){var i=e.features[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}function u(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function c(e){if(!e)throw new Error("geojson is required");var t=u(e);if(t)return t.type}e.exports={geojsonType:o,collectionOf:s,featureOf:a,getCoord:r,getCoords:n,containsNumber:i,getGeom:u,getGeomType:c}},function(e,t,r){var n=r(27),i=n.getCoords;e.exports=function(e){if(!e)throw new Error("line is required");var t=e.geometry?e.geometry.type:e.type;if(!Array.isArray(e)&&"LineString"!==t)throw new Error("geometry must be a LineString");for(var r,n,o=i(e),a=0,s=1;s<o.length;)r=n||o[0],n=o[s],a+=(n[0]-r[0])*(n[1]+r[1]),s++;return a>0}},function(e,t){function r(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")}function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return i(t),t;throw new Error("No valid coordinates")}function i(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return i(e[0]);throw new Error("coordinates must only contain numbers")}function o(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function a(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function s(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0;n<e.features.length;n++){var i=e.features[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}function u(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function c(e){if(!e)throw new Error("geojson is required");var t=u(e);if(t)return t.type}e.exports={geojsonType:o,collectionOf:s,featureOf:a,getCoord:r,getCoords:n,containsNumber:i,getGeom:u,getGeomType:c}},function(e,t){function r(e,t,r,n){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var i={type:"Feature"};return n&&(i.id=n),r&&(i.bbox=r),i.properties=t||{},i.geometry=e,i}function n(e,t,r){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(r&&4!==r.length)throw new Error("bbox must be an Array of 4 numbers");var n;switch(e){case"Point":n=i(t).geometry;break;case"LineString":n=a(t).geometry;break;case"Polygon":n=o(t).geometry;break;case"MultiPoint":n=c(t).geometry;break;case"MultiLineString":n=u(t).geometry;break;case"MultiPolygon":n=l(t).geometry;break;default:throw new Error(e+" is invalid")}return r&&(n.bbox=r),n}function i(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!b(e[0])||!b(e[1]))throw new Error("Coordinates must contain numbers");return r({type:"Point",coordinates:e},t,n,i)}function o(e,t,n,i){if(!e)throw new Error("No coordinates passed");for(var o=0;o<e.length;o++){var a=e[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===o&&0===s&&!b(a[0][0])||!b(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return r({type:"Polygon",coordinates:e},t,n,i)}function a(e,t,n,i){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!b(e[0][1])||!b(e[0][1]))throw new Error("Coordinates must contain numbers");return r({type:"LineString",coordinates:e},t,n,i)}function s(e,t,r){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var n={type:"FeatureCollection"};return r&&(n.id=r),t&&(n.bbox=t),n.features=e,n}function u(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiLineString",coordinates:e},t,n,i)}function c(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPoint",coordinates:e},t,n,i)}function l(e,t,n,i){if(!e)throw new Error("No coordinates passed");return r({type:"MultiPolygon",coordinates:e},t,n,i)}function h(e,t,n,i){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return r({type:"GeometryCollection",geometries:e},t,n,i)}function f(e,t){if(void 0===e||null===e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function d(e,t){if(void 0===e||null===e)throw new Error("radians is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e*r}function g(e,t){if(void 0===e||null===e)throw new Error("distance is required");var r=E[t||"kilometers"];if(!r)throw new Error("units is invalid");return e/r}function p(e,t){return y(g(e,t))}function m(e){if(null===e||void 0===e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function y(e){if(null===e||void 0===e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function v(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function w(e,t,r){if(null===e||void 0===e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return d(g(e,t),r||"kilometers")}function _(e,t,r){if(null===e||void 0===e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var n=L[t||"meters"];if(!n)throw new Error("invalid original units");var i=L[r||"kilometers"];if(!i)throw new Error("invalid final units");return e/n*i}function b(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}var E={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},L={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};e.exports={feature:r,geometry:n,featureCollection:s,geometryCollection:h,point:i,multiPoint:c,lineString:a,multiLineString:u,polygon:o,multiPolygon:l,radiansToDistance:d,distanceToRadians:g,distanceToDegrees:p,radians2degrees:y,degrees2radians:v,bearingToAngle:m,convertDistance:w,convertArea:_,round:f,isNumber:b}},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e){if(!e)throw new Error("coords is required");if("Feature"===e.type&&null!==e.geometry)return e.geometry.coordinates;if(e.coordinates)return e.coordinates;if(Array.isArray(e))return e;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});r(0)},function(e,t,r){"use strict";function n(e){var t,r,n={type:"FeatureCollection",features:[]};if(r="Feature"===e.type?e.geometry:e,"LineString"===r.type)t=[r.coordinates];else if("MultiLineString"===r.type)t=r.coordinates;else if("MultiPolygon"===r.type)t=[].concat.apply([],r.coordinates);else{if("Polygon"!==r.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=r.coordinates}return t.forEach(function(e){t.forEach(function(t){for(var r=0;r<e.length-1;r++)for(var a=r;a<t.length-1;a++){if(e===t){if(1===Math.abs(r-a))continue;if(0===r&&a===e.length-2&&e[r][0]===e[e.length-1][0]&&e[r][1]===e[e.length-1][1])continue}var s=i(e[r][0],e[r][1],e[r+1][0],e[r+1][1],t[a][0],t[a][1],t[a+1][0],t[a+1][1]);s&&n.features.push(Object(o.point)([s[0],s[1]]))}})}),n}function i(e,t,r,n,i,o,a,s){var u,c,l,h,f,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(s-o)*(r-e)-(a-i)*(n-t))?null!==d.x&&null!==d.y&&d:(c=t-o,l=e-i,h=(a-i)*c-(s-o)*l,f=(r-e)*c-(n-t)*l,c=h/u,l=f/u,d.x=e+c*(r-e),d.y=t+c*(n-t),c>=0&&c<=1&&(d.onLine1=!0),l>=0&&l<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);t.default=n},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function i(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return o(t).geometry;case"LineString":return c(t).geometry;case"Polygon":return s(t).geometry;case"MultiPoint":return d(t).geometry;case"MultiLineString":return f(t).geometry;case"MultiPolygon":return g(t).geometry;default:throw new Error(e+" is invalid")}}function o(e,t,r){return void 0===r&&(r={}),n({type:"Point",coordinates:e},t,r)}function a(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return o(e,t)}),r)}function s(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return s(e,t)}),r)}function c(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return c(e,t)}),r)}function h(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function f(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function d(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function g(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function p(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)}function m(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function y(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function v(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function w(e,t){return b(v(e,t))}function _(e){var t=e%360;return t<0&&(t+=360),t}function b(e){return e%(2*Math.PI)*180/Math.PI}function E(e){return e%360*Math.PI/180}function L(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return y(v(e,t),r)}function M(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[r];if(!i)throw new Error("invalid original units");var o=t.areaFactors[n];if(!o)throw new Error("invalid final units");return e/i*o}function A(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function S(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!A(e))throw new Error("bbox must only contain numbers")})}function P(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function x(){throw new Error("method has been renamed to `radiansToDegrees`")}function O(){throw new Error("method has been renamed to `degreesToRadians`")}function N(){throw new Error("method has been renamed to `lengthToDegrees`")}function k(){throw new Error("method has been renamed to `lengthToRadians`")}function T(){throw new Error("method has been renamed to `radiansToLength`")}function G(){throw new Error("method has been renamed to `bearingToAzimuth`")}function D(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=i,t.point=o,t.points=a,t.polygon=s,t.polygons=u,t.lineString=c,t.lineStrings=l,t.featureCollection=h,t.multiLineString=f,t.multiPoint=d,t.multiPolygon=g,t.geometryCollection=p,t.round=m,t.radiansToLength=y,t.lengthToRadians=v,t.lengthToDegrees=w,t.bearingToAzimuth=_,t.radiansToDegrees=b,t.degreesToRadians=E,t.convertLength=L,t.convertArea=M,t.isNumber=A,t.isObject=C,t.validateBBox=S,t.validateId=P,t.radians2degrees=x,t.degrees2radians=O,t.distanceToDegrees=N,t.distanceToRadians=k,t.radiansToDistance=T,t.bearingToAngle=G,t.convertDistance=D},function(e,t,r){"use strict";function n(e,t,r){if(r=r||{},!Object(c.isObject)(r))throw new Error("options is invalid");var n=e.geometry?e.geometry.type:e.type;if("LineString"!==n&&"MultiLineString"!==n)throw new Error("lines must be LineString or MultiLineString");var h=Object(c.point)([1/0,1/0],{dist:1/0}),f=0;return Object(u.a)(e,function(e){for(var n=Object(l.a)(e),u=0;u<n.length-1;u++){var d=Object(c.point)(n[u]);d.properties.dist=Object(o.a)(t,d,r);var g=Object(c.point)(n[u+1]);g.properties.dist=Object(o.a)(t,g,r);var p=Object(o.a)(d,g,r),m=Math.max(d.properties.dist,g.properties.dist),y=Object(i.a)(d,g),v=Object(a.a)(t,m,y+90,r),w=Object(a.a)(t,m,y-90,r),_=Object(s.default)(Object(c.lineString)([v.geometry.coordinates,w.geometry.coordinates]),Object(c.lineString)([d.geometry.coordinates,g.geometry.coordinates])),b=null;_.features.length>0&&(b=_.features[0],b.properties.dist=Object(o.a)(t,b,r),b.properties.location=f+Object(o.a)(d,b,r)),d.properties.dist<h.properties.dist&&(h=d,h.properties.index=u,h.properties.location=f),g.properties.dist<h.properties.dist&&(h=g,h.properties.index=u+1,h.properties.location=f+p),b&&b.properties.dist<h.properties.dist&&(h=b,h.properties.index=u),f+=p}}),h}Object.defineProperty(t,"__esModule",{value:!0});var i=r(33),o=r(35),a=r(37),s=r(8),u=r(47),c=r(0),l=r(48);t.default=n},function(e,t,r){"use strict";function n(e,t,r){if(r=r||{},!Object(a.isObject)(r))throw new Error("options is invalid");if(!0===r.final)return i(e,t);var n=Object(o.a)(e),s=Object(o.a)(t),u=Object(a.degreesToRadians)(n[0]),c=Object(a.degreesToRadians)(s[0]),l=Object(a.degreesToRadians)(n[1]),h=Object(a.degreesToRadians)(s[1]),f=Math.sin(c-u)*Math.cos(h),d=Math.cos(l)*Math.sin(h)-Math.sin(l)*Math.cos(h)*Math.cos(c-u);return Object(a.radiansToDegrees)(Math.atan2(f,d))}function i(e,t){var r=n(t,e);return r=(r+180)%360}var o=r(34),a=r(0);t.a=n},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t,r){if(r=r||{},!Object(o.isObject)(r))throw new Error("options is invalid");var n=r.units,a=Object(i.a)(e),s=Object(i.a)(t),u=Object(o.degreesToRadians)(s[1]-a[1]),c=Object(o.degreesToRadians)(s[0]-a[0]),l=Object(o.degreesToRadians)(a[1]),h=Object(o.degreesToRadians)(s[1]),f=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(l)*Math.cos(h);return Object(o.radiansToLength)(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n)}var i=r(36),o=r(0);t.a=n},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t,r,n){if(n=n||{},!Object(o.isObject)(n))throw new Error("options is invalid");var a=n.units,s=n.properties,u=Object(i.a)(e),c=Object(o.degreesToRadians)(u[0]),l=Object(o.degreesToRadians)(u[1]),h=Object(o.degreesToRadians)(r),f=Object(o.lengthToRadians)(t,a),d=Math.asin(Math.sin(l)*Math.cos(f)+Math.cos(l)*Math.sin(f)*Math.cos(h)),g=c+Math.atan2(Math.sin(h)*Math.sin(f)*Math.cos(l),Math.cos(f)-Math.sin(l)*Math.sin(d)),p=Object(o.radiansToDegrees)(g),m=Object(o.radiansToDegrees)(d);return Object(o.point)([p,m],s)}var i=r(38),o=r(0);t.a=n},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e){var t=Object(a.a)(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;e=i(t),e.bbox=t}else e.bbox=e.bbox?e.bbox:o(e);return a.a.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach(function(e){var r=i(e);r.bbox=e,t.push(r)}):Object(s.featureEach)(e,function(e){e.bbox=e.bbox?e.bbox:o(e),t.push(e)}),a.a.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;e=i(t),e.bbox=t}return a.a.prototype.remove.call(this,e)},t.clear=function(){return a.a.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:a.a.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return a.a.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:a.a.prototype.all.call(this)}},t.toJSON=function(){return a.a.prototype.toJSON.call(this)},t.fromJSON=function(e){return a.a.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:o(e),{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}function i(e){var t=[e[0],e[1]],r=[e[0],e[3]],n=[e[2],e[3]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],n,r,t]]}}}function o(e){var t=[1/0,1/0,-1/0,-1/0];return Object(s.coordEach)(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}var a=r(40),s=r(7);r.n(s);t.a=n},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=t;a<r;a++)o=e.children[a],s(i,e.leaf?n(o):o);return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function d(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,r,n,i){for(var o,a=[t,r];a.length;)r=a.pop(),t=a.pop(),r-t<=n||(o=t+Math.ceil((r-t)/n/2)*n,Object(v.a)(e,o,t,r,i),a.push(t,o,o,r))}var v=r(41);n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],n=this.toBBox;if(!p(e,t))return r;for(var i,o,a,s,u=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],s=t.leaf?n(a):a,p(e,s)&&(t.leaf?r.push(a):g(e,s)?this._all(a,r):u.push(a));t=u.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!p(e,t))return!1;for(var n,i,o,a,s=[];t;){for(n=0,i=t.children.length;n<i;n++)if(o=t.children[n],a=t.leaf?r(o):o,p(e,a)){if(t.leaf||g(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var r,n,o,a,s=this.data,u=this.toBBox(e),c=[],l=[];s||c.length;){if(s||(s=c.pop(),n=c[c.length-1],r=l.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),c.push(s),this._condense(c),this;a||s.leaf||!g(s,u)?n?(r++,s=n.children[r],a=!1):s=null:(c.push(s),l.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return i=m(e.slice(t,r+1)),o(i,this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),i=m([]),i.leaf=!1,i.height=n;var u,c,l,h,f=Math.ceil(a/s),d=f*Math.ceil(Math.sqrt(s));for(y(e,t,r,d,this.compareMinX),u=t;u<=r;u+=d)for(l=Math.min(u+d-1,r),y(e,u,l,f,this.compareMinY),c=u;c<=l;c+=f)h=Math.min(c+f-1,l),i.children.push(this._build(e,c,h,n-1));return o(i,this.toBBox),i},_chooseSubtree:function(e,t,r,n){for(var i,o,a,s,u,c,h,d;;){if(n.push(t),t.leaf||n.length-1===r)break;for(h=d=1/0,i=0,o=t.children.length;i<o;i++)a=t.children[i],u=l(a),c=f(e,a)-u,c<d?(d=c,h=u<h?u:h,s=a):c===d&&u<h&&(h=u,s=a);t=s||t.children[0]}return t},_insert:function(e,t,r){var n=this.toBBox,i=r?e:n(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),s(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=m(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var n,i,o,s,u,c,h,f;for(c=h=1/0,n=t;n<=r-t;n++)i=a(e,0,n,this.toBBox),o=a(e,n,r,this.toBBox),s=d(i,o),u=l(i)+l(o),s<c?(c=s,f=n,h=u<h?u:h):s===c&&u<h&&(h=u,f=n);return f},_chooseSplitAxis:function(e,t,r){var n=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},_allDistMargin:function(e,t,r,n){e.children.sort(n);var i,o,u=this.toBBox,c=a(e,0,t,u),l=a(e,r-t,r,u),f=h(c)+h(l);for(i=t;i<r-t;i++)o=e.children[i],s(c,e.leaf?u(o):o),f+=h(c);for(i=r-t-1;i>=t;i--)o=e.children[i],s(l,e.leaf?u(o):o),f+=h(l);return f},_adjustParentBBoxes:function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)0===e[r].children.length?r>0?(t=e[r-1].children,t.splice(t.indexOf(e[r]),1)):this.clear():o(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},t.a=n},function(e,t,r){"use strict";function n(e,t,r,n,o){i(e,t,r||0,n||e.length-1,o||a)}function i(e,t,r,n,a){for(;n>r;){if(n-r>600){var s=n-r+1,u=t-r+1,c=Math.log(s),l=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);i(e,t,Math.max(r,Math.floor(t-u*l/s+h)),Math.min(n,Math.floor(t+(s-u)*l/s+h)),a)}var f=e[t],d=r,g=n;for(o(e,r,t),a(e[n],f)>0&&o(e,r,n);d<g;){for(o(e,d,g),d++,g--;a(e[d],f)<0;)d++;for(;a(e[g],f)>0;)g--}0===a(e[r],f)?o(e,r,g):(g++,o(e,g,n)),g<=t&&(r=g+1),t<=g&&(n=g-1)}}function o(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function a(e,t){return e<t?-1:e>t?1:0}t.a=n},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("geojson is required");var t=[];return Object(c.a)(e,function(e){i(e,t)}),Object(s.featureCollection)(t)}function i(e,t){var r=[],n=e.geometry;switch(n.type){case"Polygon":r=Object(u.a)(n);break;case"LineString":r=[Object(u.a)(n)]}r.forEach(function(r){o(r,e.properties).forEach(function(e){e.id=t.length,t.push(e)})})}function o(e,t){var r=[];return e.reduce(function(e,n){var i=Object(s.lineString)([e,n],t);return i.bbox=a(e,n),r.push(i),n}),r}function a(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return[r<i?r:i,n<o?n:o,r>i?r:i,n>o?n:o]}var s=r(0),u=r(43),c=r(44);t.a=n},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coords is required");if("Feature"===e.type&&null!==e.geometry)return e.geometry.coordinates;if(e.coordinates)return e.coordinates;if(Array.isArray(e))return e;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t){var r,n,i,o,a,s,u,c,l,h,f=0,d="FeatureCollection"===e.type,g="Feature"===e.type,p=d?e.features.length:1;for(r=0;r<p;r++){for(s=d?e.features[r].geometry:g?e.geometry:e,c=d?e.features[r].properties:g?e.properties:{},l=d?e.features[r].bbox:g?e.bbox:void 0,h=d?e.features[r].id:g?e.id:void 0,u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,c,l,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===t(o.geometries[n],f,c,l,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,h))return!1;f++}}function i(e,t){n(e,function(e,r,n,i,a){var s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":if(!1===t(Object(o.feature)(e,n,{bbox:i,id:a}),r,0))return!1;return}var u;switch(s){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}for(var c=0;c<e.coordinates.length;c++){var l=e.coordinates[c],h={type:u,coordinates:l};if(!1===t(Object(o.feature)(h,n),r,c))return!1}})}r.d(t,"a",function(){return i});var o=r(0)},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coords is required");if("Feature"===e.type&&null!==e.geometry)return e.geometry.coordinates;if(e.coordinates)return e.coordinates;if(Array.isArray(e))return e;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t){var r,n,i,o,a,s,u,c,l,h,f=0,d="FeatureCollection"===e.type,g="Feature"===e.type,p=d?e.features.length:1;for(r=0;r<p;r++){for(s=d?e.features[r].geometry:g?e.geometry:e,c=d?e.features[r].properties:g?e.properties:{},l=d?e.features[r].bbox:g?e.bbox:void 0,h=d?e.features[r].id:g?e.id:void 0,u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,c,l,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===t(o.geometries[n],f,c,l,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,h))return!1;f++}}function i(e,t){n(e,function(e,r,n,i,a){var s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":if(!1===t(Object(o.feature)(e,n,{bbox:i,id:a}),r,0))return!1;return}var u;switch(s){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon"}for(var c=0;c<e.coordinates.length;c++){var l=e.coordinates[c],h={type:u,coordinates:l};if(!1===t(Object(o.feature)(h,n),r,c))return!1}})}r.d(t,"a",function(){return i});var o=r(0)},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coords is required");if("Feature"===e.type&&null!==e.geometry)return e.geometry.coordinates;if(e.coordinates)return e.coordinates;if(Array.isArray(e))return e;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e,t){if(t=t||{},!Object(a.isObject)(t))throw new Error("options is invalid");var r=t.precision,n=t.coordinates,s=t.mutate;if(r=void 0===r||null===r||isNaN(r)?6:r,n=void 0===n||null===n||isNaN(n)?3:n,!e)throw new Error("<geojson> is required");if("number"!=typeof r)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==s&&void 0!==s||(e=JSON.parse(JSON.stringify(e)));var u=Math.pow(10,r);return Object(o.a)(e,function(e){i(e,u,n)}),e}function i(e,t,r){e.length>r&&e.splice(r,e.length);for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]*t)/t;return e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(50),a=r(0);t.default=n},function(e,t,r){"use strict";function n(e,t,r){if(null!==e)for(var i,o,a,s,u,c,l,h,f=0,d=0,g=e.type,p="FeatureCollection"===g,m="Feature"===g,y=p?e.features.length:1,v=0;v<y;v++){l=p?e.features[v].geometry:m?e.geometry:e,h=!!l&&"GeometryCollection"===l.type,u=h?l.geometries.length:1;for(var w=0;w<u;w++){var _=0,b=0;if(null!==(s=h?l.geometries[w]:l)){c=s.coordinates;var E=s.type;switch(f=!r||"Polygon"!==E&&"MultiPolygon"!==E?0:1,E){case null:break;case"Point":if(!1===t(c,d,v,_,b))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===t(c[i],d,v,_,b))return!1;d++,"MultiPoint"===E&&_++}"LineString"===E&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(o=0;o<c[i].length-f;o++){if(!1===t(c[i][o],d,v,_,b))return!1;d++}"MultiLineString"===E&&_++,"Polygon"===E&&b++}"Polygon"===E&&_++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for("MultiPolygon"===E&&(b=0),o=0;o<c[i].length;o++){for(a=0;a<c[i][o].length-f;a++){if(!1===t(c[i][o][a],d,v,_,b))return!1;d++}b++}_++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===n(s.geometries[i],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}r.d(t,"a",function(){return n});r(0)},function(e,t,r){"use strict";function n(e){if(!e)throw new Error("coord is required");if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates;if(Array.isArray(e)&&e.length>=2&&void 0===e[0].length&&void 0===e[1].length)return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e){if(!e)throw new Error("coords is required");if("Feature"===e.type&&null!==e.geometry)return e.geometry.coordinates;if(e.coordinates)return e.coordinates;if(Array.isArray(e))return e;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function o(e){if(e.length>1&&Object(f.isNumber)(e[0])&&Object(f.isNumber)(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return o(e[0]);throw new Error("coordinates must only contain numbers")}function a(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function s(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function u(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0;n<e.features.length;n++){var i=e.features[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}}function c(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function l(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function h(e,t){if(!e)throw new Error((t||"geojson")+" is required");if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error((t||"geojson")+" is invalid")}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoord=n,t.getCoords=i,t.containsNumber=o,t.geojsonType=a,t.featureOf=s,t.collectionOf=u,t.getGeom=c,t.getGeomType=l,t.getType=h;var f=r(52);r.n(f)},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function i(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return o(t).geometry;case"LineString":return c(t).geometry;case"Polygon":return s(t).geometry;case"MultiPoint":return d(t).geometry;case"MultiLineString":return f(t).geometry;case"MultiPolygon":return g(t).geometry;default:throw new Error(e+" is invalid")}}function o(e,t,r){return void 0===r&&(r={}),n({type:"Point",coordinates:e},t,r)}function a(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return o(e,t)}),r)}function s(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return s(e,t)}),r)}function c(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),h(e.map(function(e){return c(e,t)}),r)}function h(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function f(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function d(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function g(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function p(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)}function m(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function y(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function v(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function w(e,t){return b(v(e,t))}function _(e){var t=e%360;return t<0&&(t+=360),t}function b(e){return e%(2*Math.PI)*180/Math.PI}function E(e){return e%360*Math.PI/180}function L(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return y(v(e,t),r)}function M(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[r];if(!i)throw new Error("invalid original units");var o=t.areaFactors[n];if(!o)throw new Error("invalid final units");return e/i*o}function A(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function S(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!A(e))throw new Error("bbox must only contain numbers")})}function P(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function x(){throw new Error("method has been renamed to `radiansToDegrees`")}function O(){throw new Error("method has been renamed to `degreesToRadians`")}function N(){throw new Error("method has been renamed to `lengthToDegrees`")}function k(){throw new Error("method has been renamed to `lengthToRadians`")}function T(){throw new Error("method has been renamed to `radiansToLength`")}function G(){throw new Error("method has been renamed to `bearingToAzimuth`")}function D(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=i,t.point=o,t.points=a,t.polygon=s,t.polygons=u,t.lineString=c,t.lineStrings=l,t.featureCollection=h,t.multiLineString=f,t.multiPoint=d,t.multiPolygon=g,t.geometryCollection=p,t.round=m,t.radiansToLength=y,t.lengthToRadians=v,t.lengthToDegrees=w,t.bearingToAzimuth=_,t.radiansToDegrees=b,t.degreesToRadians=E,t.convertLength=L,t.convertArea=M,t.isNumber=A,t.isObject=C,t.validateBBox=S,t.validateId=P,t.radians2degrees=x,t.degrees2radians=O,t.distanceToDegrees=N,t.distanceToRadians=k,t.radiansToDistance=T,t.bearingToAngle=G,t.convertDistance=D},function(e,t,r){var n,i,o;!function(a){i=[r(3)],n=a,void 0!==(o="function"==typeof n?n.apply(t,i):n)&&(e.exports=o)}(function(e){"use strict";return e.Polyline._flat=e.LineUtil.isFlat||e.Polyline._flat||function(t){return!e.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},e.GeometryUtil=e.extend(e.GeometryUtil||{},{distance:function(e,t,r){return e.latLngToLayerPoint(t).distanceTo(e.latLngToLayerPoint(r))},distanceSegment:function(t,r,n,i){var o=t.latLngToLayerPoint(r),a=t.latLngToLayerPoint(n),s=t.latLngToLayerPoint(i);return e.LineUtil.pointToSegmentDistance(o,a,s)},readableDistance:function(e,t){var r,n="imperial"!==t;return n?r=e>1e3?(e/1e3).toFixed(2)+" km":Math.ceil(e)+" m":(e*=1.09361,r=e>1760?(e/1760).toFixed(2)+" miles":Math.ceil(e)+" yd"),r},belongsSegment:function(e,t,r,n){n=void 0===n?.2:n;var i=t.distanceTo(r);return(t.distanceTo(e)+e.distanceTo(r)-i)/i<n},length:function(t){var r=e.GeometryUtil.accumulatedLengths(t);return r.length>0?r[r.length-1]:0},accumulatedLengths:function(e){if("function"==typeof e.getLatLngs&&(e=e.getLatLngs()),0===e.length)return[];for(var t=0,r=[0],n=0,i=e.length-1;n<i;n++)t+=e[n].distanceTo(e[n+1]),r.push(t);return r},closestOnSegment:function(t,r,n,i){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var a=t.project(r,o),s=t.project(n,o),u=t.project(i,o),c=e.LineUtil.closestPointOnSegment(a,s,u);return t.unproject(c,o)},closest:function(t,r,n,i){var o,a,s,u,c=1/0,l=null;if(r instanceof Array){if(r[0]instanceof Array&&"number"!=typeof r[0][0]){for(var a=0;a<r.length;a++){var h=e.GeometryUtil.closest(t,r[a],n,i);h.distance<c&&(c=h.distance,l=h)}return l}if(!(r[0]instanceof e.LatLng||"number"==typeof r[0][0]||"number"==typeof r[0].lat))return l;r=e.polyline(r)}if(!(r instanceof e.Polyline))return l;if(o=JSON.parse(JSON.stringify(r.getLatLngs().slice(0))),r instanceof e.Polygon){var f=function(t){if(e.Polyline._flat(t))t.push(t[0]);else for(var r=0;r<t.length;r++)f(t[r])};f(o)}if(e.Polyline._flat(o)){if(i){for(a=0,s=o.length;a<s;a++){var d=o[a];u=e.GeometryUtil.distance(t,n,d),u<c&&(c=u,l=d,l.distance=u)}return l}for(a=0,s=o.length;a<s-1;a++){var g=o[a],p=o[a+1];u=e.GeometryUtil.distanceSegment(t,n,g,p),u<=c&&(c=u,l=e.GeometryUtil.closestOnSegment(t,n,g,p),l.distance=u)}return l}for(var a=0;a<o.length;a++){var h=e.GeometryUtil.closest(t,o[a],n,i);h.distance<c&&(c=h.distance,l=h)}return l},closestLayer:function(t,r,n){for(var i=1/0,o=null,a=null,s=1/0,u=0,c=r.length;u<c;u++){var l=r[u];if(l instanceof e.LayerGroup){var h=e.GeometryUtil.closestLayer(t,l.getLayers(),n);h.distance<i&&(i=h.distance,o=h)}else"function"==typeof l.getLatLng?(a=l.getLatLng(),s=e.GeometryUtil.distance(t,n,a)):(a=e.GeometryUtil.closest(t,l,n))&&(s=a.distance),s<i&&(i=s,o={layer:l,latlng:a,distance:s})}return o},nClosestLayers:function(t,r,n,i){if((i="number"==typeof i?i:r.length)<1||r.length<1)return null;for(var o,a,s=[],u=0,c=r.length;u<c;u++){var l=r[u];if(l instanceof e.LayerGroup){var h=e.GeometryUtil.closestLayer(t,l.getLayers(),n);s.push(h)}else"function"==typeof l.getLatLng?(a=l.getLatLng(),o=e.GeometryUtil.distance(t,n,a)):(a=e.GeometryUtil.closest(t,l,n))&&(o=a.distance),s.push({layer:l,latlng:a,distance:o})}return s.sort(function(e,t){return e.distance-t.distance}),s.length>i?s.slice(0,i):s},layersWithin:function(t,r,n,i){i="number"==typeof i?i:1/0;for(var o=[],a=null,s=0,u=0,c=r.length;u<c;u++){var l=r[u];"function"==typeof l.getLatLng?(a=l.getLatLng(),s=e.GeometryUtil.distance(t,n,a)):(a=e.GeometryUtil.closest(t,l,n))&&(s=a.distance),a&&s<i&&o.push({layer:l,latlng:a,distance:s})}return o.sort(function(e,t){return e.distance-t.distance})},closestLayerSnap:function(t,r,n,i,o){i="number"==typeof i?i:1/0,o="boolean"!=typeof o||o;var a=e.GeometryUtil.closestLayer(t,r,n);if(!a||a.distance>i)return null;if(o&&"function"==typeof a.layer.getLatLngs){var s=e.GeometryUtil.closest(t,a.layer,a.latlng,!0);s.distance<i&&(a.latlng=s,a.distance=e.GeometryUtil.distance(t,s,n))}return a},interpolateOnPointSegment:function(t,r,n){return e.point(t.x*(1-n)+n*r.x,t.y*(1-n)+n*r.y)},interpolateOnLine:function(t,r,n){r=r instanceof e.Polyline?r.getLatLngs():r;var i=r.length;if(i<2)return null;if(0===(n=Math.max(Math.min(n,1),0)))return{latLng:r[0]instanceof e.LatLng?r[0]:e.latLng(r[0]),predecessor:-1};if(1==n)return{latLng:r[r.length-1]instanceof e.LatLng?r[r.length-1]:e.latLng(r[r.length-1]),predecessor:r.length-2};var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());for(var a=[],s=0,u=0;u<i;u++)a[u]=t.project(r[u],o),u>0&&(s+=a[u-1].distanceTo(a[u]));for(var c=s*n,l=a[0],h=a[1],f=0,d=l.distanceTo(h),g=1;g<i&&d<c;g++)l=h,f=d,h=a[g],d+=l.distanceTo(h);var p=d-f!=0?(c-f)/(d-f):0,m=e.GeometryUtil.interpolateOnPointSegment(l,h,p);return{latLng:t.unproject(m,o),predecessor:g-2}},locateOnLine:function(t,r,n){var i=r.getLatLngs();if(n.equals(i[0]))return 0;if(n.equals(i[i.length-1]))return 1;for(var o=e.GeometryUtil.closest(t,r,n,!1),a=e.GeometryUtil.accumulatedLengths(i),s=a[a.length-1],u=0,c=!1,l=0,h=i.length-1;l<h;l++){var f=i[l],d=i[l+1];if(u=a[l],e.GeometryUtil.belongsSegment(o,f,d)){u+=f.distanceTo(o),c=!0;break}}if(!c)throw"Could not interpolate "+n.toString()+" within "+r.toString();return u/s},reverse:function(t){return e.polyline(t.getLatLngs().slice(0).reverse())},extract:function(t,r,n,i){if(n>i)return e.GeometryUtil.extract(t,e.GeometryUtil.reverse(r),1-n,1-i);n=Math.max(Math.min(n,1),0),i=Math.max(Math.min(i,1),0);var o=r.getLatLngs(),a=e.GeometryUtil.interpolateOnLine(t,r,n),s=e.GeometryUtil.interpolateOnLine(t,r,i);if(n==i){return[e.GeometryUtil.interpolateOnLine(t,r,i).latLng]}-1==a.predecessor&&(a.predecessor=0),-1==s.predecessor&&(s.predecessor=0);var u=o.slice(a.predecessor+1,s.predecessor+1);return u.unshift(a.latLng),u.push(s.latLng),u},isBefore:function(e,t){if(!t)return!1;var r=e.getLatLngs(),n=t.getLatLngs();return r[r.length-1].equals(n[0])},isAfter:function(e,t){if(!t)return!1;var r=e.getLatLngs(),n=t.getLatLngs();return r[0].equals(n[n.length-1])},startsAtExtremity:function(e,t){if(!t)return!1;var r=e.getLatLngs(),n=t.getLatLngs(),i=r[0];return i.equals(n[0])||i.equals(n[n.length-1])},computeAngle:function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI},computeSlope:function(e,t){var r=(t.y-e.y)/(t.x-e.x);return{a:r,b:e.y-r*e.x}},rotatePoint:function(t,r,n,i){var o=t.getMaxZoom();o===1/0&&(o=t.getZoom());var a=n*Math.PI/180,s=t.project(r,o),u=t.project(i,o),c=Math.cos(a)*(s.x-u.x)-Math.sin(a)*(s.y-u.y)+u.x,l=Math.sin(a)*(s.x-u.x)+Math.cos(a)*(s.y-u.y)+u.y;return t.unproject(new e.Point(c,l),o)},bearing:function(e,t){var r=Math.PI/180,n=e.lat*r,i=t.lat*r,o=e.lng*r,a=t.lng*r,s=Math.sin(a-o)*Math.cos(i),u=Math.cos(n)*Math.sin(i)-Math.sin(n)*Math.cos(i)*Math.cos(a-o),c=(180*Math.atan2(s,u)/Math.PI+360)%360;return c>=180?c-360:c},destination:function(t,r,n){r=(r+360)%360;var i=Math.PI/180,o=180/Math.PI,a=6378137,s=t.lng*i,u=t.lat*i,c=r*i,l=Math.sin(u),h=Math.cos(u),f=Math.cos(n/a),d=Math.sin(n/a),g=Math.asin(l*f+h*d*Math.cos(c)),p=s+Math.atan2(Math.sin(c)*d*h,f-l*Math.sin(g));return p*=o,p=p>180?p-360:p<-180?p+360:p,e.latLng([g*o,p])}}),e.GeometryUtil})},function(e,t,r){var n,i;n=r(0),i=r(55),L.Polygon.include({toTurfFeature:function(){var e,t,r;if(!this.isEmpty()&&this._latlngs)return t=!L.LineUtil.isFlat(this._latlngs[0]),r=t?this._latlngs[0][0]:this._latlngs[0],e=L.GeoJSON.latLngsToCoords(r,0,!0,17),n.polygon([e])},outerRingAsTurfLineString:function(){var e,t,r;return t=!L.LineUtil.isFlat(this._latlngs[0]),r=t?this._latlngs[0][0]:this._latlngs[0],e=L.GeoJSON.latLngsToCoords(r,0,!0,17),n.lineString(e)}}),L.LatLng.prototype.toTurfFeature=function(){var e;return e=L.GeoJSON.latLngToCoords(this),n.point(e)},L.Polyline.include({toTurfFeature:function(){var e;if(!this.isEmpty()&&this._latlngs)return e=L.GeoJSON.latLngsToCoords(this._latlngs,0,0,17),n.lineString(e)},fromTurfFeature:function(e){return this.setLatLngs(i(e).geometry.coordinates)}}),L.LayerGroup.include({getLayerUUID:function(e){return e.feature.properties.uuid},hasUUIDLayer:function(e){var t,r,n,i;if(e&&(n=this.getLayerUUID(e))){i=this._layers;for(t in i)if(r=i[t],this.getLayerUUID(r)===n)return!0}return!1}})},function(e,t,r){var n=r(56).coordEach;e.exports=function(e,t){if(!e)throw new Error("geojson is required");return!1!==t&&void 0!==t||(e=JSON.parse(JSON.stringify(e))),n(e,function(e){var t=e[0],r=e[1];e[0]=r,e[1]=t}),e}},function(e,t,r){"use strict";function n(e,t,r){if(null!==e){var i,o,a,s,u,c,l,h,f,d,g=0,p=0,m=e.type,y="FeatureCollection"===m,v="Feature"===m,w=y?e.features.length:1;for(i=0;i<w;i++)for(f=y?e.features[i].geometry:v?e.geometry:e,d=!!f&&"GeometryCollection"===f.type,l=d?f.geometries.length:1,o=0;o<l;o++){var _=0;if(null!==(c=d?f.geometries[o]:f)){h=c.coordinates;var b=c.type;switch(g=!r||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":t(h,p,i,_),p++,_++;break;case"LineString":case"MultiPoint":for(a=0;a<h.length;a++)t(h[a],p,i,_),p++,"MultiPoint"===b&&_++;"LineString"===b&&_++;break;case"Polygon":case"MultiLineString":for(a=0;a<h.length;a++){for(s=0;s<h[a].length-g;s++)t(h[a][s],p,i,_),p++;"MultiLineString"===b&&_++}"Polygon"===b&&_++;break;case"MultiPolygon":for(a=0;a<h.length;a++){for(s=0;s<h[a].length;s++)for(u=0;u<h[a][s].length-g;u++)t(h[a][s][u],p,i,_),p++;_++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)n(c.geometries[a],t,r);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t,r,i){var o=r;return n(e,function(e,n,i,a){o=0===n&&void 0===r?e:t(o,e,n,i,a)},i),o}function o(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length;r++)t(e.features[r].properties,r);break;case"Feature":t(e.properties,0)}}function a(e,t,r){var n=r;return o(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)t(e.features[r],r)}function u(e,t,r){var n=r;return s(e,function(e,i){n=0===i&&void 0===r?e:t(n,e,i)}),n}function c(e){var t=[];return n(e,function(e){t.push(e)}),t}function l(e,t){var r,n,i,o,a,s,u,c,l=0,h="FeatureCollection"===e.type,f="Feature"===e.type,d=h?e.features.length:1;for(r=0;r<d;r++){for(s=h?e.features[r].geometry:f?e.geometry:e,c=h?e.features[r].properties:f?e.properties:{},u=!!s&&"GeometryCollection"===s.type,a=u?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(o,l,c);break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)t(o.geometries[n],l,c);break;default:throw new Error("Unknown Geometry Type")}else t(null,l,c);l++}}function h(e,t,r){var n=r;return l(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}function f(e,t){l(e,function(e,r,n){var i=null===e?null:e.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return void t(m(e,n),r,0)}var o;switch(i){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}e.coordinates.forEach(function(e,i){t(m({type:o,coordinates:e},n),r,i)})})}function d(e,t,r){var n=r;return f(e,function(e,i,o){n=0===i&&0===o&&void 0===r?e:t(n,e,i,o)}),n}function g(e,t){f(e,function(e,r,n){var o=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&i(e,function(i,a){var s=y([i,a],e.properties);return t(s,r,n,o),o++,a})}})}function p(e,t,r){var n=r,i=!1;return g(e,function(e,o,a,s){n=!1===i&&void 0===r?e:t(n,e,o,a,s),i=!0}),n}function m(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function y(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function v(e,t){if(!e)throw new Error("geojson is required");var r=e.geometry?e.geometry.type:e.type;if(!r)throw new Error("invalid geojson");if("FeatureCollection"===r)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===r)throw new Error("GeometryCollection is not supported");var n=e.geometry?e.geometry.coordinates:e.coordinates;if(!n)throw new Error("geojson must contain coordinates");switch(r){case"LineString":return void t(n,0,0);case"Polygon":case"MultiLineString":for(var i=0,o=0;o<n.length;o++)"MultiLineString"===r&&(i=o),t(n[o],o,i);return;case"MultiPolygon":for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)t(n[a][s],s,a);return;default:throw new Error(r+" geometry not supported")}}function w(e,t,r){var n=r;return v(e,function(e,i,o){n=0===i&&void 0===r?e:t(n,e,i,o)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.coordEach=n,t.coordReduce=i,t.propEach=o,t.propReduce=a,t.featureEach=s,t.featureReduce=u,t.coordAll=c,t.geomEach=l,t.geomReduce=h,t.flattenEach=f,t.flattenReduce=d,t.segmentEach=g,t.segmentReduce=p,t.feature=m,t.lineString=y,t.lineEach=v,t.lineReduce=w},function(e,t,r){var n,i;i=r(3),n=r(58),i.GeographicUtil=i.extend(i.GeographicUtil||{},{geod:n.Geodesic.WGS84,distance:function(e,t){var r;return r=this.geod.Inverse(e[0],e[1],t[0],t[1]),r.s12.toFixed(3)},Polygon:function(e){var t,r,i;for(this.geod=n.Geodesic.WGS84,this.poly=this.geod.Polygon(!1),t=0,r=e.length;t<r;t++)i=e[t],this.poly.AddPoint(i[0],i[1]);this.poly=this.poly.Compute(!1,!0)}}),i.GeographicUtil.Polygon.prototype={perimeter:function(){return this.poly.perimeter},area:function(){return Math.abs(this.poly.area)}}},function(e,t,r){var n,i;!function(r){"use strict";var o={};o.Constants={},o.Math={},o.Accumulator={},function(e){e.WGS84={a:6378137,f:1/298.257223563},e.version={major:1,minor:49,patch:0},e.version_string="1.49"}(o.Constants),function(e){e.digits=53,e.epsilon=Math.pow(.5,e.digits-1),e.degree=Math.PI/180,e.sq=function(e){return e*e},e.hypot=function(e,t){var r,n;return e=Math.abs(e),t=Math.abs(t),r=Math.max(e,t),n=Math.min(e,t)/(r||1),r*Math.sqrt(1+n*n)},e.cbrt=function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},e.log1p=function(e){var t=1+e,r=t-1;return 0===r?e:e*Math.log(t)/r},e.atanh=function(t){var r=Math.abs(t);return r=e.log1p(2*r/(1-r))/2,t<0?-r:r},e.copysign=function(e,t){return Math.abs(e)*(t<0||0===t&&1/t<0?-1:1)},e.sum=function(e,t){var r,n=e+t,i=n-t,o=n-i;return i-=e,o-=t,r=-(i+o),{s:n,t:r}},e.polyval=function(e,t,r,n){for(var i=e<0?0:t[r++];--e>=0;)i=i*n+t[r++];return i},e.AngRound=function(e){if(0===e)return e;var t=1/16,r=Math.abs(e);return r=r<t?t-(t-r):r,e<0?-r:r},e.AngNormalize=function(e){return e%=360,e<=-180?e+360:e<=180?e:e-360},e.LatFix=function(e){return Math.abs(e)>90?Number.NaN:e},e.AngDiff=function(t,r){var n=e.sum(e.AngNormalize(-t),e.AngNormalize(r)),i=e.AngNormalize(n.s),o=n.t;return e.sum(180===i&&o>0?-180:i,o)},e.sincosd=function(e){var t,r,n,i,o,a;switch(t=e%360,r=Math.floor(t/90+.5),t-=90*r,t*=this.degree,n=Math.sin(t),i=Math.cos(t),3&r){case 0:o=n,a=i;break;case 1:o=i,a=-n;break;case 2:o=-n,a=-i;break;default:o=-i,a=n}return 0!==e&&(o+=0,a+=0),{s:o,c:a}},e.atan2d=function(e,t){var r,n,i=0;switch(Math.abs(e)>Math.abs(t)&&(r=t,t=e,e=r,i=2),t<0&&(t=-t,++i),n=Math.atan2(e,t)/this.degree,i){case 1:n=(e>=0?180:-180)-n;break;case 2:n=90-n;break;case 3:n=-90+n}return n}}(o.Math),function(e,t){e.Accumulator=function(e){this.Set(e)},e.Accumulator.prototype.Set=function(t){t||(t=0),t.constructor===e.Accumulator?(this._s=t._s,this._t=t._t):(this._s=t,this._t=0)},e.Accumulator.prototype.Add=function(e){var r=t.sum(e,this._t),n=t.sum(r.s,this._s);r=r.t,this._s=n.s,this._t=n.t,0===this._s?this._s=r:this._t+=r},e.Accumulator.prototype.Sum=function(t){var r;return t?(r=new e.Accumulator(this),r.Add(t),r._s):this._s},e.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1}}(o.Accumulator,o.Math),o.Geodesic={},o.GeodesicLine={},o.PolygonArea={},function(e,t,r,n,i){var o,a,s,u,c,l,h,f,d,g,p,m=20+n.digits+10,y=n.epsilon,v=200*y,w=Math.sqrt(y),_=y*v,b=1e3*w;e.tiny_=Math.sqrt(Number.MIN_VALUE),e.nC1_=6,e.nC1p_=6,e.nC2_=6,e.nC3_=6,e.nC4_=6,o=e.nC3_*(e.nC3_-1)/2,a=e.nC4_*(e.nC4_+1)/2,e.CAP_C1=1,e.CAP_C1p=2,e.CAP_C2=4,e.CAP_C3=8,e.CAP_C4=16,e.NONE=0,e.ARC=64,e.LATITUDE=128,e.LONGITUDE=256|e.CAP_C3,e.AZIMUTH=512,e.DISTANCE=1024|e.CAP_C1,e.STANDARD=e.LATITUDE|e.LONGITUDE|e.AZIMUTH|e.DISTANCE,e.DISTANCE_IN=2048|e.CAP_C1|e.CAP_C1p,e.REDUCEDLENGTH=4096|e.CAP_C1|e.CAP_C2,e.GEODESICSCALE=8192|e.CAP_C1|e.CAP_C2,e.AREA=16384|e.CAP_C4,e.ALL=32671,e.LONG_UNROLL=32768,e.OUT_MASK=32640|e.LONG_UNROLL,e.SinCosSeries=function(e,t,r,n){var i=n.length,o=i-(e?1:0),a=2*(r-t)*(r+t),s=1&o?n[--i]:0,u=0;for(o=Math.floor(o/2);o--;)u=a*s-u+n[--i],s=a*u-s+n[--i];return e?2*t*r*s:r*(s-u)},s=function(e,t){var r,i,o,a,s,u,c,l,h,f,d,g,p=n.sq(e),m=n.sq(t),y=(p+m-1)/6;return 0===m&&y<=0?r=0:(i=p*m/4,o=n.sq(y),a=y*o,s=i*(i+2*a),u=y,s>=0?(c=i+a,c+=c<0?-Math.sqrt(s):Math.sqrt(s),l=n.cbrt(c),u+=l+(0!==l?o/l:0)):(h=Math.atan2(Math.sqrt(-s),-(i+a)),u+=2*y*Math.cos(h/3)),f=Math.sqrt(n.sq(u)+m),d=u<0?m/(f-u):u+f,g=(d-m)/(2*f),r=d/(Math.sqrt(d+n.sq(g))+g)),r},u=[1,4,64,0,256],e.A1m1f=function(e){var t=Math.floor(3);return(n.polyval(t,u,0,n.sq(e))/u[t+1]+e)/(1-e)},c=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],e.C1f=function(t,r){var i,o,a=n.sq(t),s=t,u=0;for(i=1;i<=e.nC1_;++i)o=Math.floor((e.nC1_-i)/2),r[i]=s*n.polyval(o,c,u,a)/c[u+o+1],u+=o+2,s*=t},l=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],e.C1pf=function(t,r){var i,o,a=n.sq(t),s=t,u=0;for(i=1;i<=e.nC1p_;++i)o=Math.floor((e.nC1p_-i)/2),r[i]=s*n.polyval(o,l,u,a)/l[u+o+1],u+=o+2,s*=t},h=[-11,-28,-192,0,256],e.A2m1f=function(e){var t=Math.floor(3);return(n.polyval(t,h,0,n.sq(e))/h[t+1]-e)/(1+e)},f=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],e.C2f=function(t,r){var i,o,a=n.sq(t),s=t,u=0;for(i=1;i<=e.nC2_;++i)o=Math.floor((e.nC2_-i)/2),r[i]=s*n.polyval(o,f,u,a)/f[u+o+1],u+=o+2,s*=t},e.Geodesic=function(e,t){if(this.a=e,this.f=t,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/n.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(n.sq(this.a)+n.sq(this._b)*(0===this._e2?1:(this._e2>0?n.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*w/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(6),this._C3x=new Array(o),this._C4x=new Array(a),this.A3coeff(),this.C3coeff(),this.C4coeff()},d=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],e.Geodesic.prototype.A3coeff=function(){var e,t,r=0,i=0;for(e=5;e>=0;--e)t=Math.min(6-e-1,e),this._A3x[i++]=n.polyval(t,d,r,this._n)/d[r+t+1],r+=t+2},g=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],e.Geodesic.prototype.C3coeff=function(){var t,r,i,o=0,a=0;for(t=1;t<e.nC3_;++t)for(r=e.nC3_-1;r>=t;--r)i=Math.min(e.nC3_-r-1,r),this._C3x[a++]=n.polyval(i,g,o,this._n)/g[o+i+1],o+=i+2},p=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],e.Geodesic.prototype.C4coeff=function(){var t,r,i,o=0,a=0;for(t=0;t<e.nC4_;++t)for(r=e.nC4_-1;r>=t;--r)i=e.nC4_-r-1,this._C4x[a++]=n.polyval(i,p,o,this._n)/p[o+i+1],o+=i+2},e.Geodesic.prototype.A3f=function(e){return n.polyval(5,this._A3x,0,e)},e.Geodesic.prototype.C3f=function(t,r){var i,o,a=1,s=0;for(i=1;i<e.nC3_;++i)o=e.nC3_-i-1,a*=t,r[i]=a*n.polyval(o,this._C3x,s,t),s+=o+1},e.Geodesic.prototype.C4f=function(t,r){var i,o,a=1,s=0;for(i=0;i<e.nC4_;++i)o=e.nC4_-i-1,r[i]=a*n.polyval(o,this._C4x,s,t),s+=o+1,a*=t},e.Geodesic.prototype.Lengths=function(t,r,n,i,o,a,s,u,c,l,h,f,d){h&=e.OUT_MASK;var g,p,m,y,v,w={},_=0,b=0,E=0,L=0;if(h&(e.DISTANCE|e.REDUCEDLENGTH|e.GEODESICSCALE)&&(E=e.A1m1f(t),e.C1f(t,f),h&(e.REDUCEDLENGTH|e.GEODESICSCALE)&&(L=e.A2m1f(t),e.C2f(t,d),_=E-L,L=1+L),E=1+E),h&e.DISTANCE)g=e.SinCosSeries(!0,a,s,f)-e.SinCosSeries(!0,n,i,f),w.s12b=E*(r+g),h&(e.REDUCEDLENGTH|e.GEODESICSCALE)&&(p=e.SinCosSeries(!0,a,s,d)-e.SinCosSeries(!0,n,i,d),b=_*r+(E*g-L*p));else if(h&(e.REDUCEDLENGTH|e.GEODESICSCALE)){for(m=1;m<=e.nC2_;++m)d[m]=E*f[m]-L*d[m];b=_*r+(e.SinCosSeries(!0,a,s,d)-e.SinCosSeries(!0,n,i,d))}return h&e.REDUCEDLENGTH&&(w.m0=_,w.m12b=u*(i*a)-o*(n*s)-i*s*b),h&e.GEODESICSCALE&&(y=i*s+n*a,v=this._ep2*(c-l)*(c+l)/(o+u),w.M12=y+(v*a-s*b)*n/o,w.M21=y-(v*n-i*b)*a/u),w},e.Geodesic.prototype.InverseStart=function(t,r,i,o,a,u,c,l,h,f,d){var g,p,m,y,w,_,E,L,M,A,C,S,P,x,O,N,k,T,G,D,F,q,I,j={},R=o*r-a*t,U=a*r+o*t;return j.sig12=-1,g=o*r,g+=a*t,p=U>=0&&R<.5&&a*c<.5,p?(y=n.sq(t+o),y/=y+n.sq(r+a),j.dnm=Math.sqrt(1+this._ep2*y),m=c/(this._f1*j.dnm),w=Math.sin(m),_=Math.cos(m)):(w=l,_=h),j.salp1=a*w,j.calp1=_>=0?R+a*t*n.sq(w)/(1+_):g-a*t*n.sq(w)/(1-_),L=n.hypot(j.salp1,j.calp1),M=t*o+r*a*_,p&&L<this._etol2?(j.salp2=r*w,j.calp2=R-r*o*(_>=0?n.sq(w)/(1+_):1-_),E=n.hypot(j.salp2,j.calp2),j.salp2/=E,j.calp2/=E,j.sig12=Math.atan2(L,M)):Math.abs(this._n)>.1||M>=0||L>=6*Math.abs(this._n)*Math.PI*n.sq(r)||(I=Math.atan2(-l,-h),this.f>=0?(x=n.sq(t)*this._ep2,O=x/(2*(1+Math.sqrt(1+x))+x),S=this.f*r*this.A3f(O)*Math.PI,P=S*r,A=I/S,C=g/P):(N=a*r-o*t,k=Math.atan2(g,N),D=this.Lengths(this._n,Math.PI+k,t,-r,i,o,a,u,r,a,e.REDUCEDLENGTH,f,d),T=D.m12b,G=D.m0,A=T/(r*a*G*Math.PI)-1,P=A<-.01?g/A:-this.f*n.sq(r)*Math.PI,S=P/r,C=c/S),C>-v&&A>-1-b?this.f>=0?(j.salp1=Math.min(1,-A),j.calp1=-Math.sqrt(1-n.sq(j.salp1))):(j.calp1=Math.max(A>-v?0:-1,A),j.salp1=Math.sqrt(1-n.sq(j.calp1))):(F=s(A,C),q=S*(this.f>=0?-A*F/(1+F):-C*(1+F)/F),w=Math.sin(q),_=-Math.cos(q),j.salp1=a*w,j.calp1=g-a*t*n.sq(w)/(1-_))),j.salp1<=0?(j.salp1=1,j.calp1=0):(E=n.hypot(j.salp1,j.calp1),j.salp1/=E,j.calp1/=E),j},e.Geodesic.prototype.Lambda12=function(t,r,i,o,a,s,u,c,l,h,f,d,g,p){var m,y,v,w,_,b,E,L,M,A,C,S,P,x={};return 0===t&&0===c&&(c=-e.tiny_),y=u*r,v=n.hypot(c,u*t),x.ssig1=t,w=y*t,x.csig1=_=c*r,m=n.hypot(x.ssig1,x.csig1),x.ssig1/=m,x.csig1/=m,x.salp2=a!==r?y/a:u,x.calp2=a!==r||Math.abs(o)!==-t?Math.sqrt(n.sq(c*r)+(r<-t?(a-r)*(r+a):(t-o)*(t+o)))/a:Math.abs(c),x.ssig2=o,b=y*o,x.csig2=E=x.calp2*a,m=n.hypot(x.ssig2,x.csig2),x.ssig2/=m,x.csig2/=m,x.sig12=Math.atan2(Math.max(0,x.csig1*x.ssig2-x.ssig1*x.csig2),x.csig1*x.csig2+x.ssig1*x.ssig2),L=Math.max(0,_*b-w*E),M=_*E+w*b,C=Math.atan2(L*h-M*l,M*h+L*l),S=n.sq(v)*this._ep2,x.eps=S/(2*(1+Math.sqrt(1+S))+S),this.C3f(x.eps,p),A=e.SinCosSeries(!0,x.ssig2,x.csig2,p)-e.SinCosSeries(!0,x.ssig1,x.csig1,p),x.domg12=-this.f*this.A3f(x.eps)*y*(x.sig12+A),x.lam12=C+x.domg12,f&&(0===x.calp2?x.dlam12=-2*this._f1*i/t:(P=this.Lengths(x.eps,x.sig12,x.ssig1,x.csig1,i,x.ssig2,x.csig2,s,r,a,e.REDUCEDLENGTH,d,g),x.dlam12=P.m12b,x.dlam12*=this._f1/(x.calp2*a))),x},e.Geodesic.prototype.Inverse=function(t,r,i,o,a){var s,u;return a||(a=e.STANDARD),a===e.LONG_UNROLL&&(a|=e.STANDARD),a&=e.OUT_MASK,s=this.InverseInt(t,r,i,o,a),u=s.vals,a&e.AZIMUTH&&(u.azi1=n.atan2d(s.salp1,s.calp1),u.azi2=n.atan2d(s.salp2,s.calp2)),u},e.Geodesic.prototype.InverseInt=function(t,r,i,o,a){var s,u,c,l,h,f,d,g,p,v,w,b,E,L,M,A,C,S,P,x,O,N,k,T,G,D,F,q,I,j,R,U,B,X,Y,J,z,H,Z,W,V,K,Q,$,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,he,fe,de,ge,pe,me,ye,ve,we,_e,be={};if(be.lat1=t=n.LatFix(t),be.lat2=i=n.LatFix(i),t=n.AngRound(t),i=n.AngRound(i),s=n.AngDiff(r,o),u=s.t,s=s.s,a&e.LONG_UNROLL?(be.lon1=r,be.lon2=r+s+u):(be.lon1=n.AngNormalize(r),be.lon2=n.AngNormalize(o)),c=s>=0?1:-1,s=c*n.AngRound(s),u=n.AngRound(180-s-c*u),M=s*n.degree,l=n.sincosd(s>90?u:s),A=l.s,C=(s>90?-1:1)*l.c,h=Math.abs(t)<Math.abs(i)?-1:1,h<0&&(c*=-1,l=t,t=i,i=l),f=t<0?1:-1,t*=f,i*=f,l=n.sincosd(t),d=this._f1*l.s,g=l.c,l=n.hypot(d,g),d/=l,g/=l,g=Math.max(e.tiny_,g),l=n.sincosd(i),p=this._f1*l.s,v=l.c,l=n.hypot(p,v),p/=l,v/=l,v=Math.max(e.tiny_,v),g<-d?v===g&&(p=p<0?d:-d):Math.abs(p)===-d&&(v=g),E=Math.sqrt(1+this._ep2*n.sq(d)),L=Math.sqrt(1+this._ep2*n.sq(p)),k=new Array(e.nC1_+1),T=new Array(e.nC2_+1),G=new Array(e.nC3_),D=-90===t||0===A,D&&(P=C,x=A,O=1,N=0,q=d,I=P*g,j=p,R=O*v,S=Math.atan2(Math.max(0,I*j-q*R),I*R+q*j),F=this.Lengths(this._n,S,q,I,E,j,R,L,g,v,a|e.DISTANCE|e.REDUCEDLENGTH,k,T),w=F.s12b,b=F.m12b,a&e.GEODESICSCALE&&(be.M12=F.M12,be.M21=F.M21),S<1||b>=0?(S<3*e.tiny_&&(S=b=w=0),b*=this._b,w*=this._b,be.a12=S/n.degree):D=!1),fe=2,!D&&0===d&&(this.f<=0||u>=180*this.f))P=O=0,x=N=1,w=this.a*M,S=B=M/this._f1,b=this._b*Math.sin(S),a&e.GEODESICSCALE&&(be.M12=be.M21=Math.cos(S)),be.a12=s/this._f1;else if(!D)if(F=this.InverseStart(d,g,E,p,v,L,M,A,C,k,T),S=F.sig12,x=F.salp1,P=F.calp1,S>=0)N=F.salp2,O=F.calp2,X=F.dnm,w=S*this._b*X,b=n.sq(X)*this._b*Math.sin(S/X),a&e.GEODESICSCALE&&(be.M12=be.M21=Math.cos(S/X)),be.a12=S/n.degree,B=M/(this._f1*X);else{for(Y=0,J=e.tiny_,z=1,H=e.tiny_,Z=-1,W=!1,V=!1;Y<m&&(F=this.Lambda12(d,g,E,p,v,L,x,P,A,C,Y<20,k,T,G),K=F.lam12,N=F.salp2,O=F.calp2,S=F.sig12,q=F.ssig1,I=F.csig1,j=F.ssig2,R=F.csig2,U=F.eps,ge=F.domg12,Q=F.dlam12,!V&&Math.abs(K)>=(W?8:1)*y);++Y)K>0&&(Y<20||P/x>Z/H)?(H=x,Z=P):K<0&&(Y<20||P/x<z/J)&&(J=x,z=P),Y<20&&Q>0&&($=-K/Q,ee=Math.sin($),te=Math.cos($),(re=x*te+P*ee)>0&&Math.abs($)<Math.PI)?(P=P*te-x*ee,x=re,l=n.hypot(x,P),x/=l,P/=l,W=Math.abs(K)<=16*y):(x=(J+H)/2,P=(z+Z)/2,l=n.hypot(x,P),x/=l,P/=l,W=!1,V=Math.abs(J-x)+(z-P)<_||Math.abs(x-H)+(P-Z)<_);ne=a|(a&(e.REDUCEDLENGTH|e.GEODESICSCALE)?e.DISTANCE:e.NONE),F=this.Lengths(U,S,q,I,E,j,R,L,g,v,ne,k,T),w=F.s12b,b=F.m12b,a&e.GEODESICSCALE&&(be.M12=F.M12,be.M21=F.M21),b*=this._b,w*=this._b,be.a12=S/n.degree,a&e.AREA&&(we=Math.sin(ge),_e=Math.cos(ge),fe=A*_e-C*we,de=C*_e+A*we)}return a&e.DISTANCE&&(be.s12=0+w),a&e.REDUCEDLENGTH&&(be.m12=0+b),a&e.AREA&&(ie=x*g,oe=n.hypot(P,x*d),0!==oe&&0!==ie?(q=d,I=P*g,j=p,R=O*v,se=n.sq(oe)*this._ep2,U=se/(2*(1+Math.sqrt(1+se))+se),ue=n.sq(this.a)*oe*ie*this._e2,l=n.hypot(q,I),q/=l,I/=l,l=n.hypot(j,R),j/=l,R/=l,ce=new Array(e.nC4_),this.C4f(U,ce),le=e.SinCosSeries(!1,q,I,ce),he=e.SinCosSeries(!1,j,R,ce),be.S12=ue*(he-le)):be.S12=0,!D&&fe>1&&(fe=Math.sin(B),de=Math.cos(B)),!D&&de>-.7071&&p-d<1.75?(ge=1+de,pe=1+g,me=1+v,ae=2*Math.atan2(fe*(d*me+p*pe),ge*(d*p+pe*me))):(ye=N*P-O*x,ve=O*P+N*x,0===ye&&ve<0&&(ye=e.tiny_*P,ve=-1),ae=Math.atan2(ye,ve)),be.S12+=this._c2*ae,be.S12*=h*c*f,be.S12+=0),h<0&&(l=x,x=N,N=l,l=P,P=O,O=l,a&e.GEODESICSCALE&&(l=be.M12,be.M12=be.M21,be.M21=l)),x*=h*c,P*=h*f,N*=h*c,O*=h*f,{vals:be,salp1:x,calp1:P,salp2:N,calp2:O}},e.Geodesic.prototype.GenDirect=function(r,n,i,o,a,s){var u;return s?s===e.LONG_UNROLL&&(s|=e.STANDARD):s=e.STANDARD,o||(s|=e.DISTANCE_IN),u=new t.GeodesicLine(this,r,n,i,s),u.GenPosition(o,a,s)},e.Geodesic.prototype.Direct=function(e,t,r,n,i){return this.GenDirect(e,t,r,!1,n,i)},e.Geodesic.prototype.ArcDirect=function(e,t,r,n,i){return this.GenDirect(e,t,r,!0,n,i)},e.Geodesic.prototype.Line=function(e,r,n,i){return new t.GeodesicLine(this,e,r,n,i)},e.Geodesic.prototype.DirectLine=function(e,t,r,n,i){return this.GenDirectLine(e,t,r,!1,n,i)},e.Geodesic.prototype.ArcDirectLine=function(e,t,r,n,i){return this.GenDirectLine(e,t,r,!0,n,i)},e.Geodesic.prototype.GenDirectLine=function(r,n,i,o,a,s){var u;return s||(s=e.STANDARD|e.DISTANCE_IN),o||(s|=e.DISTANCE_IN),u=new t.GeodesicLine(this,r,n,i,s),u.GenSetDistance(o,a),u},e.Geodesic.prototype.InverseLine=function(r,i,o,a,s){var u,c,l;return s||(s=e.STANDARD|e.DISTANCE_IN),u=this.InverseInt(r,i,o,a,e.ARC),l=n.atan2d(u.salp1,u.calp1),s&e.OUT_MASK&e.DISTANCE_IN&&(s|=e.DISTANCE),c=new t.GeodesicLine(this,r,i,l,s,u.salp1,u.calp1),c.SetArc(u.vals.a12),c},e.Geodesic.prototype.Polygon=function(e){return new r.PolygonArea(this,e)},e.WGS84=new e.Geodesic(i.WGS84.a,i.WGS84.f)}(o.Geodesic,o.GeodesicLine,o.PolygonArea,o.Math,o.Constants),function(e,t,r){t.GeodesicLine=function(t,n,i,o,a,s,u){var c,l,h,f,d,g;a||(a=e.STANDARD|e.DISTANCE_IN),this.a=t.a,this.f=t.f,this._b=t._b,this._c2=t._c2,this._f1=t._f1,this.caps=a|e.LATITUDE|e.AZIMUTH|e.LONG_UNROLL,this.lat1=r.LatFix(n),this.lon1=i,void 0===s||void 0===u?(this.azi1=r.AngNormalize(o),c=r.sincosd(r.AngRound(this.azi1)),this.salp1=c.s,this.calp1=c.c):(this.azi1=o,this.salp1=s,this.calp1=u),c=r.sincosd(r.AngRound(this.lat1)),h=this._f1*c.s,l=c.c,c=r.hypot(h,l),h/=c,l/=c,l=Math.max(e.tiny_,l),this._dn1=Math.sqrt(1+t._ep2*r.sq(h)),this._salp0=this.salp1*l,this._calp0=r.hypot(this.calp1,this.salp1*h),this._ssig1=h,this._somg1=this._salp0*h,this._csig1=this._comg1=0!==h||0!==this.calp1?l*this.calp1:1,c=r.hypot(this._ssig1,this._csig1),this._ssig1/=c,this._csig1/=c,this._k2=r.sq(this._calp0)*t._ep2,f=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&e.CAP_C1&&(this._A1m1=e.A1m1f(f),this._C1a=new Array(e.nC1_+1),e.C1f(f,this._C1a),this._B11=e.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),d=Math.sin(this._B11),g=Math.cos(this._B11),this._stau1=this._ssig1*g+this._csig1*d,this._ctau1=this._csig1*g-this._ssig1*d),this.caps&e.CAP_C1p&&(this._C1pa=new Array(e.nC1p_+1),e.C1pf(f,this._C1pa)),this.caps&e.CAP_C2&&(this._A2m1=e.A2m1f(f),this._C2a=new Array(e.nC2_+1),e.C2f(f,this._C2a),this._B21=e.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&e.CAP_C3&&(this._C3a=new Array(e.nC3_),t.C3f(f,this._C3a),this._A3c=-this.f*this._salp0*t.A3f(f),this._B31=e.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&e.CAP_C4&&(this._C4a=new Array(e.nC4_),t.C4f(f,this._C4a),this._A4=r.sq(this.a)*this._calp0*this._salp0*t._e2,this._B41=e.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=Number.NaN},t.GeodesicLine.prototype.GenPosition=function(t,n,i){var o,a,s,u,c,l,h,f,d,g,p,m,y,v,w,_,b,E,L,M,A,C,S,P,x,O,N,k,T,G={};return i?i===e.LONG_UNROLL&&(i|=e.STANDARD):i=e.STANDARD,i&=this.caps&e.OUT_MASK,G.lat1=this.lat1,G.azi1=this.azi1,G.lon1=i&e.LONG_UNROLL?this.lon1:r.AngNormalize(this.lon1),t?G.a12=n:G.s12=n,t||this.caps&e.DISTANCE_IN&e.OUT_MASK?(u=0,c=0,t?(o=n*r.degree,O=r.sincosd(n),a=O.s,s=O.c):(f=n/(this._b*(1+this._A1m1)),d=Math.sin(f),g=Math.cos(f),u=-e.SinCosSeries(!0,this._stau1*g+this._ctau1*d,this._ctau1*g-this._stau1*d,this._C1pa),o=f-(u-this._B11),a=Math.sin(o),s=Math.cos(o),Math.abs(this.f)>.01&&(l=this._ssig1*s+this._csig1*a,h=this._csig1*s-this._ssig1*a,u=e.SinCosSeries(!0,l,h,this._C1a),p=(1+this._A1m1)*(o+(u-this._B11))-n/this._b,o-=p/Math.sqrt(1+this._k2*r.sq(l)),a=Math.sin(o),s=Math.cos(o))),l=this._ssig1*s+this._csig1*a,h=this._csig1*s-this._ssig1*a,C=Math.sqrt(1+this._k2*r.sq(l)),i&(e.DISTANCE|e.REDUCEDLENGTH|e.GEODESICSCALE)&&((t||Math.abs(this.f)>.01)&&(u=e.SinCosSeries(!0,l,h,this._C1a)),c=(1+this._A1m1)*(u-this._B11)),_=this._calp0*l,b=r.hypot(this._salp0,this._calp0*h),0===b&&(b=h=e.tiny_),M=this._salp0,A=this._calp0*h,t&&i&e.DISTANCE&&(G.s12=this._b*((1+this._A1m1)*o+c)),i&e.LONGITUDE&&(E=this._salp0*l,L=h,w=r.copysign(1,this._salp0),m=i&e.LONG_UNROLL?w*(o-(Math.atan2(l,h)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(w*E,L)-Math.atan2(w*this._somg1,this._comg1))):Math.atan2(E*this._comg1-L*this._somg1,L*this._comg1+E*this._somg1),y=m+this._A3c*(o+(e.SinCosSeries(!0,l,h,this._C3a)-this._B31)),v=y/r.degree,G.lon2=i&e.LONG_UNROLL?this.lon1+v:r.AngNormalize(r.AngNormalize(this.lon1)+r.AngNormalize(v))),i&e.LATITUDE&&(G.lat2=r.atan2d(_,this._f1*b)),i&e.AZIMUTH&&(G.azi2=r.atan2d(M,A)),i&(e.REDUCEDLENGTH|e.GEODESICSCALE)&&(S=e.SinCosSeries(!0,l,h,this._C2a),P=(1+this._A2m1)*(S-this._B21),x=(this._A1m1-this._A2m1)*o+(c-P),i&e.REDUCEDLENGTH&&(G.m12=this._b*(C*(this._csig1*l)-this._dn1*(this._ssig1*h)-this._csig1*h*x)),i&e.GEODESICSCALE&&(O=this._k2*(l-this._ssig1)*(l+this._ssig1)/(this._dn1+C),G.M12=s+(O*l-h*x)*this._ssig1/this._dn1,G.M21=s-(O*this._ssig1-this._csig1*x)*l/C)),i&e.AREA&&(N=e.SinCosSeries(!1,l,h,this._C4a),0===this._calp0||0===this._salp0?(k=M*this.calp1-A*this.salp1,T=A*this.calp1+M*this.salp1):(k=this._calp0*this._salp0*(s<=0?this._csig1*(1-s)+a*this._ssig1:a*(this._csig1*a/(1+s)+this._ssig1)),T=r.sq(this._salp0)+r.sq(this._calp0)*this._csig1*h),G.S12=this._c2*Math.atan2(k,T)+this._A4*(N-this._B41)),t||(G.a12=o/r.degree),G):(G.a12=Number.NaN,G)},t.GeodesicLine.prototype.Position=function(e,t){return this.GenPosition(!1,e,t)},t.GeodesicLine.prototype.ArcPosition=function(e,t){return this.GenPosition(!0,e,t)},t.GeodesicLine.prototype.GenSetDistance=function(e,t){e?this.SetArc(t):this.SetDistance(t)},t.GeodesicLine.prototype.SetDistance=function(t){var r;this.s13=t,r=this.GenPosition(!1,this.s13,e.ARC),this.a13=0+r.a12},t.GeodesicLine.prototype.SetArc=function(t){var r;this.a13=t,r=this.GenPosition(!0,this.a13,e.DISTANCE),this.s13=0+r.s12}}(o.Geodesic,o.GeodesicLine,o.Math),function(e,t,r,n){var i,o;i=function(e,t){var n;return e=r.AngNormalize(e),t=r.AngNormalize(t),n=r.AngDiff(e,t).s,e<=0&&t>0&&n>0?1:t<=0&&e>0&&n<0?-1:0},o=function(e,t){return e%=720,t%=720,(t>=0&&t<360||t<-360?0:1)-(e>=0&&e<360||e<-360?0:1)},e.PolygonArea=function(e,r){this._geod=e,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*e._c2,this.polyline=r||!1,this._mask=t.LATITUDE|t.LONGITUDE|t.DISTANCE|(this.polyline?t.NONE:t.AREA|t.LONG_UNROLL),this.polyline||(this._areasum=new n.Accumulator(0)),this._perimetersum=new n.Accumulator(0),this.Clear()},e.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=Number.NaN},e.PolygonArea.prototype.AddPoint=function(e,t){var r;0===this.num?(this._lat0=this.lat=e,this._lon0=this.lon=t):(r=this._geod.Inverse(this.lat,this.lon,e,t,this._mask),this._perimetersum.Add(r.s12),this.polyline||(this._areasum.Add(r.S12),this._crossings+=i(this.lon,t)),this.lat=e,this.lon=t),++this.num},e.PolygonArea.prototype.AddEdge=function(e,t){var r;this.num&&(r=this._geod.Direct(this.lat,this.lon,e,t,this._mask),this._perimetersum.Add(t),this.polyline||(this._areasum.Add(r.S12),this._crossings+=o(this.lon,r.lon2)),this.lat=r.lat2,this.lon=r.lon2),++this.num},e.PolygonArea.prototype.Compute=function(e,t){var r,o,a,s={number:this.num};return this.num<2?(s.perimeter=0,this.polyline||(s.area=0),s):this.polyline?(s.perimeter=this._perimetersum.Sum(),s):(r=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),s.perimeter=this._perimetersum.Sum(r.s12),o=new n.Accumulator(this._areasum),o.Add(r.S12),a=this._crossings+i(this.lon,this._lon0),1&a&&o.Add((o.Sum()<0?1:-1)*this._area0/2),e||o.Negate(),t?o.Sum()>this._area0/2?o.Add(-this._area0):o.Sum()<=-this._area0/2&&o.Add(+this._area0):o.Sum()>=this._area0?o.Add(-this._area0):o<0&&o.Add(-this._area0),s.area=o.Sum(),s)},e.PolygonArea.prototype.TestPoint=function(e,t,r,n){var o,a,s,u,c={number:this.num+1};if(0===this.num)return c.perimeter=0,this.polyline||(c.area=0),c;for(c.perimeter=this._perimetersum.Sum(),a=this.polyline?0:this._areasum.Sum(),s=this._crossings,u=0;u<(this.polyline?1:2);++u)o=this._geod.Inverse(0===u?this.lat:e,0===u?this.lon:t,0!==u?this._lat0:e,0!==u?this._lon0:t,this._mask),c.perimeter+=o.s12,this.polyline||(a+=o.S12,s+=i(0===u?this.lon:t,0!==u?this._lon0:t));return this.polyline?c:(1&s&&(a+=(a<0?1:-1)*this._area0/2),r||(a*=-1),n?a>this._area0/2?a-=this._area0:a<=-this._area0/2&&(a+=this._area0):a>=this._area0?a-=this._area0:a<0&&(a+=this._area0),c.area=a,c)},e.PolygonArea.prototype.TestEdge=function(e,t,r,n){var a,s,u,c={number:this.num?this.num+1:0};return 0===this.num?c:(c.perimeter=this._perimetersum.Sum()+t,this.polyline?c:(s=this._areasum.Sum(),u=this._crossings,a=this._geod.Direct(this.lat,this.lon,e,t,this._mask),s+=a.S12,u+=o(this.lon,a.lon2),a=this._geod.Inverse(a.lat2,a.lon2,this._lat0,this._lon0,this._mask),c.perimeter+=a.s12,s+=a.S12,u+=i(a.lon2,this._lon0),1&u&&(s+=(s<0?1:-1)*this._area0/2),r||(s*=-1),n?s>this._area0/2?s-=this._area0:s<=-this._area0/2&&(s+=this._area0):s>=this._area0?s-=this._area0:s<0&&(s+=this._area0),c.area=s,c))}}(o.PolygonArea,o.Geodesic,o.Math,o.Accumulator),o.DMS={},function(e){var t,r,n,i,o="SNWE",a="°'\"",s=["degrees","minutes","seconds"];t=function(e,t){return e.indexOf(t.toUpperCase())},r=function(e,t){return String("0000").substr(0,Math.max(0,Math.min(4,t-e.length)))+e},e.NONE=0,e.LATITUDE=1,e.LONGITUDE=2,e.AZIMUTH=3,e.DEGREE=0,e.MINUTE=1,e.SECOND=2,e.Decode=function(r){var i,a,s,u,c,l,h,f,d=r,g=0,p=0,m=e.NONE;for(d=d.replace(/\u00b0/g,"d").replace(/\u00ba/g,"d").replace(/\u2070/g,"d").replace(/\u02da/g,"d").replace(/\u2032/g,"'").replace(/\u00b4/g,"'").replace(/\u2019/g,"'").replace(/\u2033/g,'"').replace(/\u201d/g,'"').replace(/\u2212/g,"-").replace(/''/g,'"').trim(),i=d.length,l=0;l<i;l=f,++p)if(h=l,0===p&&t(o,d.charAt(h))>=0&&++h,(p>0||h<i&&t("-+",d.charAt(h))>=0)&&++h,a=d.substr(h,i-h).indexOf("-"),s=d.substr(h,i-h).indexOf("+"),a<0?a=i:a+=h,s<0?s=i:s+=h,f=Math.min(a,s),u=n(d.substr(l,f-l)),g+=u.val,c=u.ind,m===e.NONE)m=c;else if(c!==e.NONE&&m!==c)throw new Error("Incompatible hemisphere specifies in "+d.substr(0,f));if(0===p)throw new Error("Empty or incomplete DMS string "+d);return{val:g,ind:m}},n=function(r){var n,a,u,c,l,h,f,d,g,p,m,y,v,w,_,b,E={},L="";do{if(n=1,a=0,u=r.length,c=e.NONE,l=-1,u>a&&(l=t(o,r.charAt(a)))>=0&&(c=2&l?e.LONGITUDE:e.LATITUDE,n=1&l?1:-1,++a),u>a&&(l=t(o,r.charAt(u-1)))>=0&&l>=0){if(c!==e.NONE){L=r.charAt(a-1).toUpperCase()===r.charAt(u-1).toUpperCase()?"Repeated hemisphere indicators "+r.charAt(a-1)+" in "+r.substr(a-1,u-a+1):"Contradictory hemisphere indicators "+r.charAt(a-1)+" and "+r.charAt(u-1)+" in "+r.substr(a-1,u-a+1);break}c=2&l?e.LONGITUDE:e.LATITUDE,n=1&l?1:-1,--u}if(u>a&&(l=t("-+",r.charAt(a)))>=0&&l>=0&&(n*=l?1:-1,++a),u===a){L="Empty or incomplete DMS string "+r;break}for(h=[0,0,0],f=[0,0,0],d=0,g=0,p=0,m=0,y=a,v=!1,w=0,_=0;y<u;)if(b=r.charAt(y++),(l=t("0123456789",b))>=0)++m,w>0?++w:(g=10*g+l,++_);else if("."===b){if(v){L="Multiple decimal points in "+r.substr(a,u-a);break}v=!0,w=1}else{if(!((l=t("D'\":",b))>=0)){if(t("-+",b)>=0){L="Internal sign in DMS string "+r.substr(a,u-a);break}L="Illegal character "+b+" in DMS string "+r.substr(a,u-a);break}if(l>=3){if(y===u){L="Illegal for colon to appear at the end of "+r.substr(a,u-a);break}l=d}if(l===d-1){L="Repeated "+s[l]+" component in "+r.substr(a,u-a);break}if(l<d){L=s[l]+" component follows "+s[d-1]+" component in "+r.substr(a,u-a);break}if(0===m){L="Missing numbers in "+s[l]+" component of "+r.substr(a,u-a);break}w>0&&(p=parseFloat(r.substr(y-_-w-1,_+w)),g=0),h[l]=g,f[l]=g+p,y<u&&(d=l+1,g=p=0,m=w=_=0)}if(L.length)break;if(t("D'\":",r.charAt(y-1))<0){if(d>=3){L="Extra text following seconds in DMS string "+r.substr(a,u-a);break}if(0===m){L="Missing numbers in trailing component of "+r.substr(a,u-a);break}w>0&&(p=parseFloat(r.substr(y-_-w,_+w)),g=0),h[d]=g,f[d]=g+p}if(v&&0===w){L="Decimal point in non-terminal component of "+r.substr(a,u-a);break}if(h[1]>=60||f[1]>60){L="Minutes "+f[1]+" not in range [0,60)";break}if(h[2]>=60||f[2]>60){L="Seconds "+f[2]+" not in range [0,60)";break}return E.ind=c,E.val=n*(f[2]?(60*(60*f[0]+f[1])+f[2])/3600:f[1]?(60*f[0]+f[1])/60:f[0]),E}while(!1);if(E.val=i(r),0===E.val)throw new Error(L);return E.ind=e.NONE,E},i=function(e){var t,r,n,i;return e.length<3?0:(t=e.toUpperCase().replace(/0+$/,""),r="-"===t.charAt(0)?-1:1,n="-"===t.charAt(0)||"+"===t.charAt(0)?1:0,(i=t.length-1)+1<n+3?0:(t=t.substr(n,i+1-n),"NAN"===t||"1.#QNAN"===t||"1.#SNAN"===t||"1.#IND"===t||"1.#R"===t?Number.NaN:"INF"===t||"1.#INF"===t?r*Number.POSITIVE_INFINITY:0))},e.DecodeLatLon=function(t,r,n){var i,o,a={},s=e.Decode(t),u=e.Decode(r),c=s.val,l=s.ind,h=u.val,f=u.ind;if(n||(n=!1),l===e.NONE&&f===e.NONE?(l=n?e.LONGITUDE:e.LATITUDE,f=n?e.LATITUDE:e.LONGITUDE):l===e.NONE?l=e.LATITUDE+e.LONGITUDE-f:f===e.NONE&&(f=e.LATITUDE+e.LONGITUDE-l),l===f)throw new Error("Both "+t+" and "+r+" interpreted as "+(l===e.LATITUDE?"latitudes":"longitudes"));if(i=l===e.LATITUDE?c:h,o=l===e.LATITUDE?h:c,Math.abs(i)>90)throw new Error("Latitude "+i+" not in [-90,90]");return a.lat=i,a.lon=o,a},e.DecodeAngle=function(t){var r=e.Decode(t),n=r.val;if(r.ind!==e.NONE)throw new Error("Arc angle "+t+" includes a hemisphere N/E/W/S");return n},e.DecodeAzimuth=function(t){var r=e.Decode(t),n=r.val;if(r.ind===e.LATITUDE)throw new Error("Azimuth "+t+" has a latitude hemisphere N/S");return n},e.Encode=function(t,n,i,s){var u,c,l,h,f,d,g,p,m,y=1;if(s||(s=e.NONE),!isFinite(t))return t<0?String("-inf"):t>0?String("inf"):String("nan");for(i=Math.min(15-2*n,i),u=0;u<n;++u)y*=60;for(u=0;u<i;++u)y*=10;for(s===e.AZIMUTH&&(t-=360*Math.floor(t/360)),c=t<0?-1:1,t*=c,l=Math.floor(t),h=(t-l)*y+.5,f=Math.floor(h),h=f===h&&1==(1&f)?f-1:f,h/=y,h=Math.floor((t-l)*y+.5)/y,h>=1&&(l+=1,h-=1),d=[h,0,0],u=1;u<=n;++u)g=Math.floor(d[u-1]),p=d[u-1]-g,d[u]=60*p,d[u-1]=g;switch(d[0]+=l,m="",s===e.NONE&&c<0&&(m+="-"),n){case e.DEGREE:m+=r(d[0].toFixed(i),s===e.NONE?0:1+Math.min(s,2)+i+(i?1:0))+a.charAt(0);break;default:switch(m+=r(d[0].toFixed(0),s===e.NONE?0:1+Math.min(s,2))+a.charAt(0),n){case e.MINUTE:m+=r(d[1].toFixed(i),2+i+(i?1:0))+a.charAt(1);break;case e.SECOND:m+=r(d[1].toFixed(0),2)+a.charAt(1),m+=r(d[2].toFixed(i),2+i+(i?1:0))+a.charAt(2)}}return s!==e.NONE&&s!==e.AZIMUTH&&(m+=o.charAt((s===e.LATITUDE?0:2)+(c<0?0:1))),m}}(o.DMS),function(r){"object"==typeof e&&e.exports?e.exports=r:(n=[],void 0!==(i=function(){return r}.apply(t,n))&&(e.exports=i))}(o)}()},function(e,t,r){var n,i;n=r(3),r(5),r(0),i=r(6),n.Draw.Feature.DrawMixin={_draw_initialize:function(){return this.on("enabled",this._draw_on_enabled,this),this.on("disabled",this._draw_on_disabled,this)},_draw_on_enabled:function(){if(this.options.guideLayers)return this._mouseMarker?(this._map.off("layeradd",this._draw_on_enabled,this),this._map.on(n.Draw.Event.DRAWVERTEX,this._draw_on_click,this)):void this._map.on("layeradd",this._draw_on_enabled,this)},_draw_on_click:function(e){var t,r,n,o,a,s,u,c,l;for(a=e.layers.getLayers().slice(0).pop(),s=a.getLatLng().toTurfFeature(),c=this.options.guideLayers,l=[],r=0,o=c.length;r<o;r++)t=c[r],"function"==typeof t.getLayers&&l.push(function(){var e,r,o,a;for(o=t.getLayers(),a=[],e=0,r=o.length;e<r;e++)n=o[e],u=n.toTurfFeature(),i.default(s,u,{ignoreBoundary:!1})?a.push(this.deleteLastVertex()):a.push(void 0);return a}.call(this));return l},_draw_on_disabled:function(){return this._mouseMarker&&this._mouseMarker.off("mouseup",this._draw_on_click,this),this._map.off("layeradd",this._draw_on_enabled,this)}},n.Draw.Feature.include(n.Draw.Feature.DrawMixin),n.Draw.Feature.addInitHook("_draw_initialize")}]);